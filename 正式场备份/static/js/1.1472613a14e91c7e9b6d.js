webpackJsonp([1],{"0+QG":function(e,t){},"2kzB":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("TToO"),i=r("7+uW"),n=r("c+8m"),s=r.n(n),l=r("RXoh"),o=r("vkqf"),d=r("PJh5"),p=r.n(d),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reminderVEnums="NEW_ORDER",t.allprescription=0,t.key="",t.page=0,t.pageSize=10,t.total=100,t.orderList=[],t.startDate="",t.endDate="",t.consigneeAddress="",t.rderStatus="",t.NEW_ORDER=0,t}return a.b(t,e),t.prototype.handleOrderStatus=function(e){switch(e){case"ORDER_INIT":return"订单初始化";case"ORDER_WAIT_PAY":return"等待支付";case"ORDER_PAY_ONDEV":return"货到付款";case"ORDER_CANCEL_PAY":return"取消支付";case"ORDER_WAIT_SENDGOODS":return"待发货";case"ORDER_WAIT_RECVGOODS":return"待收货";case"ORDER_END_GOODS":return"完成";default:return""}},t.prototype.allPrescription=function(){var e=this;l.g().then(function(t){t.retCode?(console.log(t.data),e.allprescription=t.data):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.onPageChange=function(e){this.page=e-1,this.getOrderList()},t.prototype.handleClick=function(e){this.rderStatus="",this.getOrderList()},t.prototype.getOrderList=function(){var e=this,t="",r="";""!=(this.startDate||"")&&(t=p()(this.startDate).format("YYYY-MM-DD")+" 00:00:00"),""!=(this.endDate||"")&&(r=p()(this.endDate).format("YYYY-MM-DD")+" 23:59:59"),this.reminderVEnums,l.v({reminderVEnums:this.reminderVEnums,key:this.key,consigneeAddress:this.consigneeAddress,startCreatTime:t,endCreatTime:r,rderStatus:this.rderStatus,page:this.page,pageSize:this.pageSize}).then(function(t){t.retCode?(console.log("-----",t.data),e.orderList=t.data.data,e.total=t.data.page.total):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.queryOrderCount=function(){var e=this;l.G({}).then(function(t){t.retCode?e.NEW_ORDER=t.data.NEW_ORDER:(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.mounted=function(){this.queryOrderCount(),this.allPrescription(),this.getOrderList()},t=a.a([s()({props:{},components:{remindertable:o.a}})],t)}(i.default),u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticStyle:{}},[r("h3",[e._v("售后管理\n          ")]),e._v(" "),r("div",{staticStyle:{margin:"10px 0"}},[e._v("\n平台订单数量统计："+e._s(e.allprescription)+" 单  平台新增订单数量统计："+e._s(e.NEW_ORDER)+" 单\n            ")])]),e._v(" "),r("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.reminderVEnums,callback:function(t){e.reminderVEnums=t},expression:"reminderVEnums"}},[r("el-tab-pane",{attrs:{label:"新增订单",name:"NEW_ORDER"}},[r("div",{staticStyle:{"padding-bottom":"20px"}},[r("el-row",{staticStyle:{"padding-left":"80px"},attrs:{gutter:10}},[r("el-col",{attrs:{xs:8,sm:8,md:5,lg:5,xl:5}},[r("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入关键字",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),r("el-col",{attrs:{xs:9,sm:9,md:6,lg:6,xl:6}},[r("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入收货地址",clearable:""},model:{value:e.consigneeAddress,callback:function(t){e.consigneeAddress=t},expression:"consigneeAddress"}})],1),e._v(" "),r("el-col",{staticStyle:{"min-width":"500px"},attrs:{xs:16,sm:16,md:10,lg:10,xl:10}},[r("el-date-picker",{staticStyle:{"margin-top":"20px"},attrs:{type:"date",placeholder:"开始日期"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}}),e._v(" "),r("el-date-picker",{staticStyle:{"margin-top":"20px"},attrs:{type:"date",placeholder:"结束日期"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1),e._v(" "),r("el-col",{attrs:{xs:5,sm:5,md:2,lg:2,xl:2}},[r("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.getOrderList()}}},[e._v("查询")])],1)],1)],1),e._v(" "),r("remindertable",{ref:"remindertable",attrs:{orderList:e.orderList,pagetype:"afterorder"},on:{getOrderList:e.getOrderList}})],1),e._v(" "),r("el-tab-pane",{attrs:{label:"全部",name:"AFTERSALE_ALL"}},[r("div",{staticStyle:{"padding-bottom":"20px"}},[r("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:10}},[r("el-form",{attrs:{"label-width":"80px",inline:!0}},[r("el-col",{attrs:{xs:24,sm:14,md:12,lg:12,xl:12}},[r("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"状态"}},[r("el-select",{model:{value:e.rderStatus,callback:function(t){e.rderStatus=t},expression:"rderStatus"}},[r("el-option",{attrs:{value:"",label:"全部"}}),e._v(" "),r("el-option",{attrs:{value:"ORDER_WAIT_PAY",label:"等待支付"}}),e._v(" "),r("el-option",{attrs:{value:"ORDER_PAY_ONDEV",label:"货到付款"}}),e._v(" "),r("el-option",{attrs:{value:"ORDER_CANCEL_PAY",label:"取消支付"}}),e._v(" "),r("el-option",{attrs:{value:"ORDER_WAIT_SENDGOODS",label:"待发货"}}),e._v(" "),r("el-option",{attrs:{value:"ORDER_WAIT_RECVGOODS",label:"待收货"}}),e._v(" "),r("el-option",{attrs:{value:"ORDER_END_GOODS",label:"已完成"}})],1)],1)],1)],1)],1),e._v(" "),r("el-row",{staticStyle:{"padding-left":"80px"},attrs:{gutter:10}},[r("el-col",{attrs:{xs:8,sm:8,md:5,lg:5,xl:5}},[r("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入关键字",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),r("el-col",{attrs:{xs:9,sm:9,md:6,lg:6,xl:6}},[r("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入收货地址",clearable:""},model:{value:e.consigneeAddress,callback:function(t){e.consigneeAddress=t},expression:"consigneeAddress"}})],1),e._v(" "),r("el-col",{staticStyle:{"min-width":"500px"},attrs:{xs:16,sm:16,md:10,lg:10,xl:10}},[r("el-date-picker",{staticStyle:{"margin-top":"20px"},attrs:{type:"date",placeholder:"开始日期"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}}),e._v(" "),r("el-date-picker",{staticStyle:{"margin-top":"20px"},attrs:{type:"date",placeholder:"结束日期"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1),e._v(" "),r("el-col",{attrs:{xs:5,sm:5,md:2,lg:2,xl:2}},[r("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.getOrderList()}}},[e._v("查询")])],1)],1)],1),e._v(" "),r("remindertable",{ref:"remindertable",attrs:{orderList:e.orderList,pagetype:"afterorder"},on:{getOrderList:e.getOrderList}})],1)],1),e._v(" "),r("el-col",{staticClass:"toolbar",attrs:{span:24}},[r("el-pagination",{attrs:{layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.onPageChange}})],1)],1)},staticRenderFns:[]};var _=r("VU/8")(c,u,!1,function(e){r("t/Pc")},"data-v-8ea6fa46",null);t.default=_.exports},"2u3s":function(e,t){},"t/Pc":function(e,t){},vkqf:function(e,t,r){"use strict";var a=r("TToO"),i=r("7+uW"),n=r("c+8m"),s=r.n(n),l=r("RXoh"),o=r("EOM2"),d=r("CMXh"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sendModel=!1,t.preDrugList=[],t.model=!1,t.formModel=!1,t}return a.b(t,e),t.prototype.handlePayStatus=function(e){switch(e){case"PAY_WAIT":case"PAY_SUCCESS":return"支付成功";default:return""}},t.prototype.doSend=function(e){var t=this;console.log(e),""!=(e.logistics||"")?""!=(e.waybill_number||"")?this.$confirm("马上发货?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l.r({order_detail_id:e.orderDetailId,pres_id:t.order.presId,ship_status:"ORDER_WAIT_RECVGOODS",logistics:e.logistics,waybill_number:e.waybill_number}).then(function(e){e.retCode?(t.$message("发货成功"),t.$emit("getOrderList"),t.$emit("getOrderDetail",t.order.presId)):(e.islogin||t.$alert(e.message),console.error("数据查询错误"))})}).catch(function(){t.$message({type:"info",message:"已取消操作"})}):this.$alert("请填写物流单号"):this.$alert("请填写物流公司")},t.prototype.queryPresDrugback=function(e){var t=this;l.J({preId:e}).then(function(e){e.retCode?(console.log("处方id查询药品列表",e),t.preDrugList=e.data):(e.islogin||t.$alert(e.message),console.error("数据查询错误"))})},t.prototype.doSubmit=function(){var e=this;l.M(this.updateOrder).then(function(t){t.retCode?(e.$message("保存成功"),e.formModel=!1,e.$emit("getOrderList")):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.handleOrderStatus=function(e){switch(e){case"ORDER_INIT":return"订单初始化";case"ORDER_WAIT_PAY":return"等待支付";case"ORDER_PAY_ONDEV":return"货到付款";case"ORDER_CANCEL_PAY":return"取消支付";case"ORDER_WAIT_SENDGOODS":return"待发货";case"ORDER_WAIT_RECVGOODS":return"待收货";case"ORDER_END_GOODS":return"完成";default:return""}},t.prototype.mounted=function(){},a.a([Object(o.Prop)({required:!1}),a.c("design:type",Object)],t.prototype,"order",void 0),a.a([Object(o.Prop)({required:!1}),a.c("design:type",Object)],t.prototype,"updateOrder",void 0),a.a([Object(o.Prop)({required:!1}),a.c("design:type",String)],t.prototype,"pagetype",void 0),t=a.a([s()({props:{},components:{}})],t)}(i.default),c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{width:"70vw","close-on-click-modal":!1,visible:e.model,title:"订单详情"},on:{"update:visible":function(t){e.model=t}}},[r("div",{staticClass:"flex flex-warp-justify"},[r("h4",{staticStyle:{margin:"0"}},[e._v("订单状态：")]),e._v(" "),r("div",[e._v("\n    "+e._s(e.handleOrderStatus(e.order.orderStatue))+"\n")])]),e._v(" "),r("h4",[e._v("患者信息：")]),e._v(" "),r("div",{staticClass:"flex flex-warp-justify"},[r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("患者姓名：")]),e._v(" "),r("span",[e._v(e._s(e.order.memberName))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("患者年龄：")]),e._v(" "),r("span",[e._v(e._s(e.order.memberAge))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("患者性别：")]),e._v(" "),r("span",[e._v(e._s(e.order.patientSex))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("患者身份证：")]),e._v(" "),r("span",[e._v(e._s(e.order.memberIdcard))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("患者手机号：")]),e._v(" "),r("span",[e._v(e._s(e.order.memberPhone))])])]),e._v(" "),r("h4",[e._v("医生信息：")]),e._v(" "),r("div",{staticClass:"flex flex-warp-justify"},[r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("开方医生：")]),e._v(" "),r("span",[e._v(e._s(e.order.docterName))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("医生账号：")]),e._v(" "),r("span",[e._v(e._s(e.order.memberAge))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("医生手机号：")]),e._v(" "),r("span",[e._v(e._s(e.order.doctorMobile))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("医院：")]),e._v(" "),r("span",[e._v(e._s(e.order.hospitalName))])])]),e._v(" "),r("h4",[e._v("详细信息：")]),e._v(" "),r("div",{staticClass:"flex flex-warp-justify"},[r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("订单编号：")]),e._v(" "),r("span",[e._v(e._s(e.order.presId))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("收货人：")]),e._v(" "),r("span",[e._v(e._s(e.order.consigneeName))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("收货电话：")]),e._v(" "),r("span",[e._v(e._s(e.order.consigneePhone))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("收货地址：")]),e._v(" "),r("span",[e._v(e._s(e.order.consigneeAddress))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("创建时间：")]),e._v(" "),r("span",[e._v(e._s(e.order.auditingDate))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("付款时间：")]),e._v(" "),r("span",[e._v(e._s(e.order.payTime))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("付款状态：")]),e._v(" "),r("span",[e._v(e._s(e.handlePayStatus(e.order.payStatus)))])])]),e._v(" "),e._l(e.order.YdkOrderDetailList,function(t,a){return r("div",[r("div",{staticClass:"flex flex-warp-justify",staticStyle:{"margin-top":"20px"}},[r("h4",{staticStyle:{margin:"0",height:"40px",display:"flex","align-items":"center"}},[e._v("物流信息：")]),e._v(" "),"UNSHIPPED_DELIVERY"==t.shipStatus?r("div",[r("span",{staticStyle:{color:"#999"}},["reminder"==e.pagetype?r("span",{staticStyle:{"line-height":"40px"}},[e._v("暂无信息")]):e._e(),e._v(" "),"afterorder"==e.pagetype?r("span",[r("el-form",{attrs:{"label-width":"100px",inline:!0}},[r("el-form-item",{attrs:{label:"物流公司："}},[r("el-input",{staticStyle:{"max-width":"400px","min-width":"200px"},attrs:{size:"mini"},model:{value:t.logistics,callback:function(r){e.$set(t,"logistics",r)},expression:"item.logistics"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"运单号："}},[r("el-input",{staticStyle:{"max-width":"400px","min-width":"200px"},attrs:{size:"mini"},model:{value:t.waybill_number,callback:function(r){e.$set(t,"waybill_number",r)},expression:"item.waybill_number"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){e.doSend(t)}}},[e._v("发 货")])],1)],1)],1):e._e()])]):e._e(),e._v(" "),"ORDER_WAIT_RECVGOODS"==t.shipStatus?r("div",{staticClass:"flex flex-warp-justify",staticStyle:{"line-height":"40px"}},[r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("物流单号：")]),e._v(" "),r("span",[e._v(e._s(t.waybillNumber))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("物流公司：")]),e._v(" "),r("span",[e._v(e._s(t.logistics))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("span",[e._v("发货时间：")]),e._v(" "),r("span",[e._v(e._s(t.deliveryTime))])]),e._v(" "),r("div",{staticStyle:{"margin-right":"10px"}},[r("el-button",{attrs:{type:"text",size:"mini"}},[e._v("物流跟踪")])],1)]):e._e()]),e._v(" "),r("h4",[e._v("药品信息")]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.YdkPrescriptiondrugList,stripe:""}},[r("el-table-column",{attrs:{prop:"drugId",label:"药品编号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"drugName",label:"药品名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"partnerName",label:"供应商"}}),e._v(" "),r("el-table-column",{attrs:{prop:"specification",label:"药品规格"}}),e._v(" "),r("el-table-column",{attrs:{prop:"usages",label:"用法"}}),e._v(" "),r("el-table-column",{attrs:{prop:"dosage",label:"用量"}}),e._v(" "),r("el-table-column",{attrs:{prop:"instructions",label:"使用说明"}}),e._v(" "),r("el-table-column",{attrs:{prop:"frequency",label:"频次"}}),e._v(" "),r("el-table-column",{attrs:{prop:"quantity",label:"数量"}}),e._v(" "),r("el-table-column",{attrs:{prop:"price",label:"药品价格"}}),e._v(" "),r("el-table-column",{attrs:{prop:"createDate",label:"提交时间"}})],1)],1)}),e._v(" "),r("div",{staticStyle:{"text-align":"right","margin-top":"20px","padding-top":"10px","border-top":"1px #e5e5e5 solid"}},[r("div",[e._v("治疗服务费："),r("span",{staticStyle:{color:"red"}},[e._v("￥"+e._s(e.order.serviceMoney))])]),e._v(" "),r("div",[e._v("药品总价："),r("span",{staticStyle:{color:"red"}},[e._v("￥"+e._s(e.order.orderMoney))])]),e._v(" "),r("div",[e._v("合计："),r("span",{staticStyle:{color:"red"}},[e._v("￥"+e._s(e.order.presscriptionMoney))])])])],2),e._v(" "),r("el-dialog",{attrs:{width:"70vw","close-on-click-modal":!1,visible:e.formModel,title:"订单详情"},on:{"update:visible":function(t){e.formModel=t}}},[r("el-form",{attrs:{"label-width":"100px",inline:!0}},[r("el-form-item",{attrs:{label:"订单状态："}},[e._v("\n      "+e._s(e.handleOrderStatus(e.order.orderStatue))+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"医院："}},[e._v("\n"+e._s(e.updateOrder.hospitalName)+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"医生账号："}}),e._v(" "),r("el-form-item",{attrs:{label:"开方医生："}},[e._v("\n"+e._s(e.updateOrder.docterName)+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"医生手机号："}},[e._v("\n"+e._s(e.updateOrder.doctorMobile)+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"患者姓名："}},[e._v("\n"+e._s(e.updateOrder.memberName)+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"患者年龄："}},[e._v("\n"+e._s(e.updateOrder.memberAge)+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"患者手机号："}},[e._v("\n"+e._s(e.updateOrder.memberPhone)+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"患者身份证："}},[e._v("\n"+e._s(e.updateOrder.memberIdcard)+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"患者性别："}},[e._v("\n"+e._s(e.updateOrder.patientSex)+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"合计："}},[e._v("\n"+e._s(e.updateOrder.presscriptionMoney)+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"药品金额："}},[e._v("\n"+e._s(e.updateOrder.orderMoney)+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"治疗服务费："}},[e._v("\n"+e._s(e.updateOrder.serviceMoney)+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"付款状态："}},[e._v("\n"+e._s(e.handlePayStatus(e.updateOrder.payStatus))+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"付款时间："}},[e._v("\n"+e._s(e.updateOrder.payTime)+"\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"物流信息："}},[e._v("\n查看详情>>\n\t\t\t\t")]),e._v(" "),r("el-form-item",{attrs:{label:"创建时间："}},[e._v("\n"+e._s(e.updateOrder.auditingDate)+"\n\t\t\t\t")])],1),e._v(" "),r("el-form",{attrs:{"label-width":"100px"}},[r("el-form-item",{attrs:{label:"收货人："}},[r("el-input",{staticStyle:{"max-width":"400px","min-width":"200px"},model:{value:e.updateOrder.consigneeName,callback:function(t){e.$set(e.updateOrder,"consigneeName",t)},expression:"updateOrder.consigneeName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收货电话："}},[r("el-input",{staticStyle:{"max-width":"400px","min-width":"200px"},model:{value:e.updateOrder.consigneePhone,callback:function(t){e.$set(e.updateOrder,"consigneePhone",t)},expression:"updateOrder.consigneePhone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收货地址："}},[r("el-input",{staticStyle:{"max-width":"400px","min-width":"200px"},model:{value:e.updateOrder.consigneeAddress,callback:function(t){e.$set(e.updateOrder,"consigneeAddress",t)},expression:"updateOrder.consigneeAddress"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"患者身份证："}},[r("el-input",{staticStyle:{"max-width":"400px","min-width":"200px"},model:{value:e.updateOrder.memberIdcard,callback:function(t){e.$set(e.updateOrder,"memberIdcard",t)},expression:"updateOrder.memberIdcard"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.formModel=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.doSubmit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var u=r("VU/8")(p,c,!1,function(e){r("0+QG")},"data-v-3f72691a",null).exports,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order={},t.updateOrder={},t.prescriptioninfoObj={},t.preImageList=[],t}return a.b(t,e),t.prototype.doReminder=function(e){var t=this;this.$confirm("确定要发送一次催单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l.L({presId:e.presId}).then(function(e){e.retCode?t.$message("催单成功"):(e.islogin||t.$alert(e.message),console.error("数据查询错误"))})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})},t.prototype.getorderInfo=function(e){this.$refs.updateorder.model=!0,this.getOrderDetail(e.presId)},t.prototype.getOrderDetail=function(e){var t=this;l.A({presId:e}).then(function(e){e.retCode?(console.log(" 订单详情",e.data),t.order=e.data):(e.islogin||t.$alert(e.message),console.error("数据查询错误"))})},t.prototype.updateInfo=function(e){var t={};Object.assign(t,e),this.updateOrder=t,this.$refs.updateorder.formModel=!0},t.prototype.getOrderList=function(){this.$emit("getOrderList")},t.prototype.handlePayStatus=function(e){switch(e){case"PAY_WAIT":case"PAY_SUCCESS":return"支付成功";default:return""}},t.prototype.getTransmitInfo=function(e,t){this.prescriptioninfoObj=t,this.$refs.prescriptioninfo.getInfo()},t.prototype.handleOrderStatus=function(e){switch(e){case"ORDER_INIT":return"订单初始化";case"ORDER_WAIT_PAY":return"等待支付";case"ORDER_PAY_ONDEV":return"货到付款";case"ORDER_CANCEL_PAY":return"取消支付";case"ORDER_WAIT_SENDGOODS":return"待发货";case"ORDER_WAIT_RECVGOODS":return"待收货";case"ORDER_END_GOODS":return"完成";default:return""}},t.prototype.mounted=function(){},a.a([Object(o.Prop)({required:!1}),a.c("design:type",Object)],t.prototype,"orderList",void 0),a.a([Object(o.Prop)({required:!1}),a.c("design:type",String)],t.prototype,"pagetype",void 0),t=a.a([s()({props:{},components:{prescriptioninfo:d.a,updateorder:u}})],t)}(i.default),m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-table",{staticStyle:{width:"100%","min-height":"500px"},attrs:{border:"",data:e.orderList,stripe:""}},[r("el-table-column",{attrs:{prop:"orderid",label:"订单编号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"presId",label:"处方编号"}}),e._v(" "),r("el-table-column",{attrs:{label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n  "+e._s(e.handleOrderStatus(t.row.orderStatue))+"\n")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"支付状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n  "+e._s(e.handlePayStatus(t.row.payStatus))+"\n")]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"memberName",label:"患者姓名"}}),e._v(" "),r("el-table-column",{attrs:{prop:"patientSex",label:"患者性别"}}),e._v(" "),r("el-table-column",{attrs:{prop:"memberPhone",label:"患者手机号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"memberIdcard",label:"患者身份证"}}),e._v(" "),r("el-table-column",{attrs:{prop:"consigneeName",label:"收货人"}}),e._v(" "),r("el-table-column",{attrs:{prop:"consigneePhone",label:"收货手机号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"consigneeAddress",label:"收货地址"}}),e._v(" "),r("el-table-column",{attrs:{prop:"docterName",label:"开方医生",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{prop:"doctorMobile",label:"医生手机号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"hospitalName",label:"医院"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderMoney",label:"药品金额"}}),e._v(" "),r("el-table-column",{attrs:{prop:"presscriptionMoney",label:"合计"}}),e._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),r("el-table-column",{attrs:{prop:"auditingDate",label:"创建时间"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",fixed:"right",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(r){e.getorderInfo(t.row)}}},[e._v("订单详情")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(r){e.getTransmitInfo(t.$index,t.row)}}},[e._v("处方详情")]),e._v(" "),"afterorder"==e.pagetype?r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(r){e.updateInfo(t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),"reminder"==e.pagetype?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(r){e.doReminder(t.row)}}},[e._v("催单")]):e._e()]}}])})],1),e._v(" "),r("prescriptioninfo",{ref:"prescriptioninfo",attrs:{row:e.prescriptioninfoObj}}),e._v(" "),r("updateorder",{ref:"updateorder",attrs:{updateOrder:e.updateOrder,pagetype:e.pagetype,order:e.order},on:{getOrderList:e.getOrderList,getOrderDetail:e.getOrderDetail}})],1)},staticRenderFns:[]};var v=r("VU/8")(_,m,!1,function(e){r("2u3s")},"data-v-e5f31574",null);t.a=v.exports}});
//# sourceMappingURL=1.1472613a14e91c7e9b6d.js.map