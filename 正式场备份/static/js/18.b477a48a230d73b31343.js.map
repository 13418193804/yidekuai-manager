{"version":3,"sources":["webpack:///./src/components/system/user.vue?1878","webpack:///./src/components/system/user.vue?4b67","webpack:///./src/components/system/user.vue"],"names":["_super","AddGoods","_this","apply","this","arguments","userList","userForm","modelType","model","page","pageSize","total","departmentModel","roleIdModel","roleList","keyword","options","departmentId","Count","tslib_es6","prototype","changeModel","type","row","a","Object","assign","console","log","bianli","list","id","filter","item","index","onPageChange","getUserList","indexApi","then","res","data","user","$alert","error","changeDepartment","e","getRoleList","length","getDepartment","children","doSubmit","$message","doDelete","adminState","$confirm","confirmButtonText","cancelButtonText","userId","userID","catch","message","initPassword","userPassword","allCount","num","mounted","vue_class_component_common_default","props","components","vue_esm","system_user","render","_vm","_h","$createElement","_c","_self","staticStyle","border-bottom","_v","margin","_s","padding-bottom","attrs","gutter","xs","sm","md","lg","xl","margin-top","placeholder","clearable","value","callback","$$v","expression","min-width","icon","on","click","$event","width","min-height","border","stripe","prop","label","scopedSlots","_u","key","fn","scope","userStatus","fixed","size","disabled","$index","staticClass","span","layout","page-size","current-change","visible","center","title","close-on-click-modal","top","update:visible","label-width","max-width","$set","_e","change","_l","roleId","roleName","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.b477a48a230d73b31343.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport Component from \"vue-class-component\";\r\nimport axios from \"axios\";\r\nimport * as indexApi from \"../../api/indexApi\";\r\n\r\n@Component({\r\n  props: {},\r\n  components: {\r\n    // categoryView,\r\n  }\r\n})\r\nexport default class AddGoods extends Vue {\r\n  userList = [];\r\n  userForm = {};\r\n  modelType = \"add\";\r\n  model = false;\r\n  changeModel(type, row) {\r\n    this.modelType = type;\r\n    this.userForm = {};\r\n    if (row) {\r\n      let a = {};\r\n      Object.assign(a, row);\r\n      this.userForm = a;\r\n\r\n      console.log(this.options)\r\n// this.options.forEach((item,index)=>{\r\n//   if( item.departmentId !==row.departmentId){\r\n//   }\r\n//   console.log(  item.departmentId ==row.departmentId)\r\n// })\r\n    }\r\n    this.model = true;\r\n  }\r\n\r\n  bianli(list,id){\r\n    list.filter((item,index)=>{\r\n    return  item.departmentId == id\r\n    })\r\n\r\n      return \r\n  }\r\n\r\n  page = 0;\r\n  pageSize = 10;\r\n  total = 100;\r\n  onPageChange(page) {\r\n    this.page = page - 1;\r\n    this.getUserList();\r\n  }\r\n\r\n  getUserList() {\r\n    indexApi\r\n      .getUserList({\r\n        keyword: this.keyword,\r\n        page: this.page,\r\n        pageSize: this.pageSize\r\n      })\r\n      .then(res => {\r\n        if (res[\"retCode\"]) {\r\n          this.userList = res.data.user;\r\n          this.total = res.data.page.total;\r\n        } else {\r\n          if (!res[\"islogin\"]) {\r\n            this.$alert(res[\"message\"]);\r\n          }\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n  }\r\n\r\n  departmentModel = [];\r\n  roleIdModel = \"\";\r\n  changeDepartment(e) {\r\n    this.roleIdModel = \"\";\r\n    this.getRoleList(e[e.length - 1]);\r\n  }\r\n  roleList = [];\r\n  getRoleList(departmentId) {\r\n    indexApi\r\n      .queryRoleList({\r\n        departmentId: departmentId\r\n      })\r\n      .then(res => {\r\n        if (res[\"retCode\"]) {\r\n          this.roleList = res.data.roleList;\r\n        } else {\r\n          if (!res[\"islogin\"]) {\r\n            this.$alert(res[\"message\"]);\r\n          }\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n  }\r\n  keyword = \"\";\r\n  options = [];\r\n  departmentId = \"\";\r\n  getDepartment() {\r\n    indexApi.getDepartment({}).then(res => {\r\n      console.log(res);\r\n      if (res[\"retCode\"]) {\r\n        this.options = res.data.children;\r\n        // this.options.unshift({\r\n        //   departmentId:\"\",\r\n        //   label:\"全部\",\r\n        //   name:\"全部\",\r\n        //   value:''\r\n        // })\r\n      } else {\r\n        if (!res[\"islogin\"]) {\r\n          this.$alert(res[\"message\"]);\r\n        }\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n\r\n  doSubmit() {\r\n\r\n\r\n\r\n\r\n\r\n    if ((this.userForm[\"userName\"] || \"\") == \"\") {\r\n      this.$alert(\"请输入账号\");\r\n      return;\r\n    }\r\n    if ((this.userForm[\"name\"] || \"\") == \"\") {\r\n      this.$alert(\"请输入姓名\");\r\n      return;\r\n    }\r\n\r\n    if (this.modelType == \"add\") {\r\n      if (\r\n        !this.userForm[\"userPassword\"] ||\r\n        this.userForm[\"userPassword\"].length < 6\r\n      ) {\r\n        this.$alert(\"密码必须6位字符以上\");\r\n        return;\r\n      }\r\n      if ((this.userForm[\"userPassword\"] || \"\") == \"\") {\r\n        this.$alert(\"请输入密码\");\r\n        return;\r\n      }\r\n      if (this.userForm[\"userPassword\"] != this.userForm[\"re_user_password\"]) {\r\n        this.$alert(\"两次密码必须一致\");\r\n        return;\r\n      }\r\n    }\r\n\r\n\r\nif(this.userForm['adminState']  == '0'){\r\n    if (!this.departmentModel || this.departmentModel.length == 0) {\r\n      this.$alert(\"请选择部门\");\r\n      return;\r\n    }\r\n    if ((this.roleIdModel || \"\") == \"\") {\r\n      this.$alert(\"请选择职位\");\r\n      return;\r\n    }\r\n}\r\n\r\n    this.userForm[\"departmentId\"] = this.departmentModel[\r\n      this.departmentModel.length - 1\r\n    ];\r\n    this.userForm[\"roleId\"] = this.roleIdModel;\r\n    this.userForm[\"userId\"] = this.userForm[\"userID\"];\r\n    if (this.modelType == \"add\") {\r\n      indexApi.addSystemUserModel(this.userForm).then(res => {\r\n        console.log(res);\r\n        if (res[\"retCode\"]) {\r\n          this.$message(\"添加成功\");\r\n          this.getUserList();\r\n          this.model = false;\r\n        } else {\r\n          if (!res[\"islogin\"]) {\r\n            this.$alert(res[\"message\"]);\r\n          }\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n    } else {\r\n      indexApi.updateSystemUserModel(this.userForm).then(res => {\r\n        if (res[\"retCode\"]) {\r\n          this.$message(\"添加成功\");\r\n          this.getUserList();\r\n          this.model = false;\r\n        } else {\r\n          if (!res[\"islogin\"]) {\r\n            this.$alert(res[\"message\"]);\r\n          }\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  doDelete(index, row) {\r\n\r\n    if(row.adminState == '1'){\r\n      this.$alert('不可删除系统管理员账号')\r\n      return ;\r\n    }\r\n    this.$confirm(\"是否删除该用户?\", \"提示\", {\r\n      confirmButtonText: \"确定\",\r\n      cancelButtonText: \"取消\",\r\n      type: \"warning\"\r\n    })\r\n      .then(() => {\r\n        indexApi\r\n          .deleteSystemUserModel({\r\n            userId: row.userID\r\n          })\r\n          .then(res => {\r\n            if (res[\"retCode\"]) {\r\n              this.$message(\"已删除\");\r\n              this.getUserList();\r\n            } else {\r\n              if (!res[\"islogin\"]) {\r\n                this.$alert(res[\"message\"]);\r\n              }\r\n              console.error(\"数据查询错误\");\r\n            }\r\n          });\r\n      })\r\n      .catch(() => {\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消操作\"\r\n        });\r\n      });\r\n  }\r\n  initPassword(row) {\r\n    this.$confirm(\"是否对此用户执行重置密码?\", \"提示\", {\r\n      confirmButtonText: \"确定\",\r\n      cancelButtonText: \"取消\",\r\n      type: \"warning\"\r\n    })\r\n      .then(() => {\r\n        indexApi\r\n          .updateSystemUserModel({\r\n            userId: row.userID,\r\n            userPassword: \"123456\"\r\n          })\r\n          .then(res => {\r\n            if (res[\"retCode\"]) {\r\n              this.$message(\"已重置\");\r\n              this.getUserList();\r\n            } else {\r\n              if (!res[\"islogin\"]) {\r\n                this.$alert(res[\"message\"]);\r\n              }\r\n              console.error(\"数据查询错误\");\r\n            }\r\n          });\r\n      })\r\n      .catch(() => {\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消操作\"\r\n        });\r\n      });\r\n  }\r\n\r\n  Count = 0;\r\n\r\n  allCount() {\r\n    indexApi.allCountuser().then(res => {\r\n      console.log(res);\r\n      if (res[\"retCode\"]) {\r\n        this.Count = res.data.num;\r\n      } else {\r\n        if (!res[\"islogin\"]) {\r\n          this.$alert(res[\"message\"]);\r\n        }\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n\r\n  mounted() {\r\n    this.allCount();\r\n    this.getUserList();\r\n    this.getDepartment();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/system/user.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"border-bottom\":\"1px #e5e5e5 solid\"}},[_c('h3',[_vm._v(\"用户管理\\n          \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_vm._v(\"\\n平台用户数量统计：\"+_vm._s(_vm.Count)+\" 人              \\n            \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"padding-bottom\":\"20px\"}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"xs\":8,\"sm\":8,\"md\":5,\"lg\":5,\"xl\":5}},[_c('el-input',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"placeholder\":\"请输入用户名字/用户账号/角色名字/部门名字\",\"clearable\":\"\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"min-width\":\"100px\"},attrs:{\"xs\":5,\"sm\":5,\"md\":2,\"lg\":2,\"xl\":2}},[_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){_vm.getUserList()}}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":5,\"sm\":5,\"md\":2,\"lg\":2,\"xl\":2}},[_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.changeModel('add',false)}}},[_vm._v(\"添加用户\")])],1)],1)],1)]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\",\"min-height\":\"500px\"},attrs:{\"border\":\"\",\"data\":_vm.userList,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"账号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"密码\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n      ******\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"用户类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.adminState == '1' ?'系统管理员':'普通用户')+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"role\",\"label\":\"职位\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"departmentName\",\"label\":\"部门\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.userStatus ?'success':'info'}},[_vm._v(\"\\n               \"+_vm._s(scope.row.userStatus ?\"启用中\":\"已停用\"))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.initPassword(scope.row)}}},[_vm._v(\"重置密码\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.changeModel('edit',scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"disabled\":scope.row.adminState == '1'},on:{\"click\":function($event){_vm.doDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"page-size\":_vm.pageSize,\"total\":_vm.total},on:{\"current-change\":_vm.onPageChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.model,\"width\":\"1050px\",\"center\":\"\",\"size\":\"tiny\",\"title\":_vm.modelType =='add' ?'添加用户':'编辑用户',\"close-on-click-modal\":false,\"top\":\"40px\"},on:{\"update:visible\":function($event){_vm.model=$event}}},[_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\"}},[_c('el-input',{staticStyle:{\"max-width\":\"400px\"},model:{value:(_vm.userForm.userName),callback:function ($$v) {_vm.$set(_vm.userForm, \"userName\", $$v)},expression:\"userForm.userName\"}})],1),_vm._v(\" \"),(_vm.modelType =='add')?_c('div',[_c('el-form-item',{attrs:{\"label\":\"密码\"}},[_c('el-input',{staticStyle:{\"max-width\":\"400px\"},attrs:{\"type\":\"password\"},model:{value:(_vm.userForm.userPassword),callback:function ($$v) {_vm.$set(_vm.userForm, \"userPassword\", $$v)},expression:\"userForm.userPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\"}},[_c('el-input',{staticStyle:{\"max-width\":\"400px\"},attrs:{\"type\":\"password\"},model:{value:(_vm.userForm.re_user_password),callback:function ($$v) {_vm.$set(_vm.userForm, \"re_user_password\", $$v)},expression:\"userForm.re_user_password\"}})],1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"姓名\"}},[_c('el-input',{staticStyle:{\"max-width\":\"400px\"},model:{value:(_vm.userForm.name),callback:function ($$v) {_vm.$set(_vm.userForm, \"name\", $$v)},expression:\"userForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{staticStyle:{\"max-width\":\"400px\"},model:{value:(_vm.userForm.remark),callback:function ($$v) {_vm.$set(_vm.userForm, \"remark\", $$v)},expression:\"userForm.remark\"}})],1),_vm._v(\" \"),(_vm.userForm['adminState'] == '0')?_c('div',[_c('el-form-item',{attrs:{\"label\":\"部门\"}},[_c('el-cascader',{attrs:{\"options\":_vm.options,\"placeholder\":\"请选择部门\"},on:{\"change\":_vm.changeDepartment},model:{value:(_vm.departmentModel),callback:function ($$v) {_vm.departmentModel=$$v},expression:\"departmentModel\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"职位\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择职位\"},model:{value:(_vm.roleIdModel),callback:function ($$v) {_vm.roleIdModel=$$v},expression:\"roleIdModel\"}},_vm._l((_vm.roleList),function(item){return _c('el-option',{key:item.roleId,attrs:{\"label\":item.roleName,\"value\":item.roleId}})}))],1)],1):_vm._e()],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.model = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doSubmit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d113dc4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/system/user.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d113dc4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./user.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user.vue\"\nimport __vue_script__ from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d113dc4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./user.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1d113dc4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/system/user.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}