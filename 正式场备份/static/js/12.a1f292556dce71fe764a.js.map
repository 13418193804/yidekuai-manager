{"version":3,"sources":["webpack:///./src/components/transmit/handleransmit.vue?da17","webpack:///./src/components/transmit/handleransmit.vue?6a8f","webpack:///./src/components/transmit/handleransmit.vue"],"names":["_super","AddGoods","_this","apply","this","arguments","prodeInfo","title","value","usagesList","frequencyList","backLoad","dosageList","filterdrugModel","drug","allprescription","instructions","model","countPreByStatuObj","loading","orderMoney","serviceMoney","preIndex","preDrugList","tranRemake","preImageList","presId","prodetail","specificationList","partnerNameList","options4","value9","list","drugList","leftDis","rightDis","tslib_es6","prototype","selectDrug","drugId","a","filter","item","commonName","hisCode","commonList","selectSpecification","console","log","changePartnerName","data","specification","Object","assign","partnerObj","partnerName","indexApi","then","res","usages","dosage","frequency","$alert","error","changeModel","allPrescription","defineProperty","count","handleStatus","status","$route","path","doSubmit","$confirm","confirmButtonText","cancelButtonText","type","prescriptionId","rejectContext","$message","getCountForList","catch","message","countPreByStatu","selectRow","$refs","filterdrug","price","deletePreDrug","index","row","preDrugId","prescriptionDrugId","queryPresDrug","docreateDrug","indexOf","preId","dotransmit","length","temporaryPrescriptiondrugIds","forEach","push","temporaryPrescriptiondrugId","join","changeName","sessionStorage","name","changeId","merchantUserId","nextPresId","$router","getPrePic","cropper","changePreImageUrl","queryPresDetatil","remoteMethod","query","undefined","setTimeout","getDrugList","keyFName","tranObject","JSON","parse","init","Frist","Third","mounted","vue_class_component_common_default","props","components","corpperlabel","vue_esm","transmit_handleransmit","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","staticStyle","display","align-items","padding","attrs","separator-class","font-weight","font-size","color","to","staticClass","cursor","_v","line-height","margin-right","_s","notCount","text-align","float","size","disabled","icon","on","click","$event","margin-top","flex-wrap","margin-bottom","presState","remark","rejectAuditReason","_e","rejectAuditTime","margin","_l","gutter","xs","sm","md","lg","xl","ref","label-width","label","width","filterable","remote","placeholder","remote-method","change","callback","$$v","$set","key","productName","manufacturer","clearable","max-width","rows","min","border-bottom","border","stripe","prop","fixed","scopedSlots","_u","fn","scope","$index","justify-content","close-on-click-modal","visible","update:visible","transmitType","staticRenderFns","Component","__webpack_require__","normalizeComponent","handleransmit","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.a1f292556dce71fe764a.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport Component from \"vue-class-component\";\r\nimport axios from \"axios\";\r\nimport { Prop } from \"vue-property-decorator\";\r\nimport * as indexApi from \"../../api/indexApi\";\r\nimport filterdrug from \"../drug/filterdrug\";\r\nimport corpperlabel from './corpperlabel'\r\n\r\n@Component({\r\n  props: {},\r\n  components: {\r\n    filterdrug,corpperlabel\r\n  }\r\n})\r\nexport default class AddGoods extends Vue {\r\n\r\n  prodeInfo=[\r\n    {title:'姓名：',value:'memberName'},\r\n    {title:'性别：',value:'patientSex'},\r\n    {title:'年龄：',value:'patientAge'},\r\n    {title:'科室：',value:'docterDept'},\r\n    {title:'地址：',value:'consigneeAddress'},\r\n    {title:'医生姓名：',value:'transDocName'},\r\n    {title:'医生电话：',value:'doctorMobile'},\r\n    {title:'医生医院：',value:'hospitalName'},\r\n  ]\r\n \r\n  selectDrug(drugId) {\r\n\r\n    this.drug = {}\r\n\r\n    let a = this.options4.filter(item => {\r\n      return drugId == item.drugId;\r\n    });\r\n\r\n    this.drug[\"drugId\"] = a[0].drugId;\r\n    this.drug[\"commonName\"] = a[0].commonName;\r\n    this.drug[\"hisCode\"] = a[0].hisCode;\r\n    //清空数据\r\n    this.commonList();\r\n  }\r\n  selectSpecification() {\r\n    console.log(\"改变规格\");\r\n    // 清空数据\r\n    this.commonList();\r\n  }\r\n  changePartnerName() {\r\n    console.log(\"改变供应商\");\r\n    // 清空数据\r\n    this.commonList();\r\n  }\r\n\r\n  usagesList = [];\r\n  frequencyList = [];\r\n  backLoad = false;\r\n  dosageList = [];\r\n  \r\n  commonList() {\r\n    let data = {\r\n      commonName: this.drug.commonName\r\n    };\r\n    if (this.drug.specification) {\r\n      Object.assign(data, { specification: this.drug.specification });\r\n    }\r\n    if (this.drug.partnerObj) {\r\n      Object.assign(data, { partnerName: this.drug.partnerObj.partnerName });\r\n    }\r\n\r\n    indexApi.getGrugListZhuanFang(data).then(res => {\r\n      if (res[\"retCode\"]) {\r\n        // this.options4 = res.data.YdkDrugList;\r\n        console.log(res.data);\r\n        //规格\r\n        if (res.data.specificationList) {\r\n          // if(res.data.specificationList.length>0){\r\n          // this.drug.specification = res.data.specificationList[0]\r\n          // }\r\n          this.specificationList = res.data.specificationList;\r\n        }\r\n        // 供应商\r\n        if (res.data.partnerNameList) {\r\n          this.partnerNameList = res.data.partnerNameList;\r\n        }\r\n\r\n        // 用法\r\n        if (res.data.usagesList) {\r\n          this.usagesList = res.data.usagesList;\r\n          this.drug.usages = res.data.usagesList[0]\r\n            ? res.data.usagesList[0]\r\n            : \"\";\r\n        }\r\n        // 用量\r\n        if (res.data.dosageList) {\r\n          this.dosageList = res.data.dosageList;\r\n          this.drug.dosage = res.data.dosageList[0]\r\n            ? res.data.dosageList[0]\r\n            : \"\";\r\n        }\r\n\r\n        // 频次\r\n        if (res.data.frequencyList) {\r\n          this.frequencyList = res.data.frequencyList;\r\n          this.drug.frequency = res.data.frequencyList[0]\r\n            ? res.data.frequencyList[0]\r\n            : \"\";\r\n        }\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n\r\n  filterdrugModel = false;\r\n  changeModel() {\r\n    this.filterdrugModel = !this.filterdrugModel;\r\n  }\r\n\r\n  drug: any = {};\r\n\r\n  allprescription = 0;\r\n\r\n  allPrescription() {\r\n    indexApi.allPrescription().then(res => {\r\n      if (res[\"retCode\"]) {\r\n        console.log(res.data);\r\n        this.allprescription = res.data;\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n  get notCount() {\r\n    return this.countPreByStatuObj[\"data5\"]\r\n      ? this.countPreByStatuObj[\"data5\"].count\r\n      : 0;\r\n  }\r\n  instructions = \"\";\r\n  handleStatus(status) {\r\n    switch (status) {\r\n      case \"NOT_TRANSLATED_PRESCRIPTION\":\r\n        return \"未转方\";\r\n      case \"ALREADY_TRANSLATED_PRESCRIPTION\":\r\n        return \"已转方\";\r\n      case \"FAIL_TRANSLATED_PRESCRIPTION\":\r\n        return \"转方失败\";\r\n      case \"REJECT_TRANSLATED_PRESCRIPTION\":\r\n        return \"已驳回开方\";\r\n      case \"ALREADY_AUDIT_PRESCRIPTION\":\r\n        return \"已审方\";\r\n      case \"FAIL_AUDIT_PRESCRIPTION\":\r\n        return \"审方失败\";\r\n      case \"REJECT_AUDIT_PRESCRIPTION\":\r\n        if (this.$route.path == \"/saveaudit\") {\r\n          return \"已驳回转方\";\r\n        } else {\r\n          return \"审方退回\";\r\n        }\r\n      default:\r\n        return \"\";\r\n    }\r\n  }\r\n  model = false;\r\n\r\n  doSubmit() {\r\n this.$confirm(\"确定退回该处方给开方医生?\", \"提示\", {\r\n      confirmButtonText: \"确定\",\r\n      cancelButtonText: \"取消\",\r\n      type: \"warning\"\r\n    })\r\n      .then(() => {\r\n    this.backLoad = true\r\n    indexApi\r\n      .doKillPreTransmit({\r\n        prescriptionId: this.presId,\r\n        rejectContext: this.tranRemake\r\n      })\r\n      .then(res => {\r\n        this.backLoad = false;\r\n        if (res[\"retCode\"]) {\r\n          this.$message(\"退回成功\");\r\n          this.tranRemake = '';\r\n  this.getCountForList(\"xia\", true);\r\n        } else {\r\n          if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n\r\n\r\n      })\r\n      .catch(() => {\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消操作\"\r\n        });\r\n      });\r\n\r\n  }\r\n  countPreByStatuObj = {};\r\n  countPreByStatu() {\r\n    indexApi.countPreByStatu({}).then(res => {\r\n      if (res[\"retCode\"]) {\r\n        this.countPreByStatuObj = res.data;\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n\r\n  selectRow() {\r\n    let a = {};\r\n    Object.assign(a, this.$refs.filterdrug[\"row\"]);\r\n    this.drug = a;\r\n    this.drug.price = a[\"guidance\"];\r\n    this.filterdrugModel = false;\r\n  }\r\n\r\n  deletePreDrug(index, row) {\r\n    this.$confirm(\"把该药品从处方单中移除？\", \"提示\", {\r\n      confirmButtonText: \"确定\",\r\n      cancelButtonText: \"取消\",\r\n      type: \"warning\"\r\n    })\r\n      .then(() => {\r\n        indexApi\r\n          .deletePreDrug({ preDrugId: row.prescriptionDrugId })\r\n          .then(res => {\r\n            if (res[\"retCode\"]) {\r\n              this.$message(\"已删除一条药品记录\");\r\n              this.queryPresDrug();\r\n            } else {\r\n              if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n              console.error(\"数据查询错误\");\r\n            }\r\n          });\r\n      })\r\n      .catch(() => {\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消操作\"\r\n        });\r\n      });\r\n  }\r\n\r\n  loading = false;\r\n  docreateDrug() {\r\n    if (!this.drug[\"quantity\"] || this.drug[\"quantity\"] <= 0) {\r\n      this.$alert(\"请输入药品数量\");\r\n      return;\r\n    }\r\n    if (this.drug[\"quantity\"].indexOf(\".\") != -1) {\r\n      this.$alert(\"请输入正确的药品数量\");\r\n      return;\r\n    }\r\n    if (!this.drug[\"price\"] || this.drug[\"price\"] < 0) {\r\n      this.$alert(\"请输入药品金额\");\r\n      return;\r\n    }\r\n\r\n    this.drug[\"partnerName\"] = this.drug.partnerObj[\"partnerName\"];\r\n    this.drug[\"partnerId\"] = this.drug.partnerObj[\"partnerId\"];\r\n    this.drug[\"preId\"] = this.presId;\r\n    this.drug[\"drugName\"] = this.drug[\"commonName\"];\r\n    this.drug[\"guidance\"] = this.drug[\"price\"];\r\n    this.drug[\"instructions\"] = this.instructions\r\n    this.loading = true;\r\n\r\n    indexApi.docreateDrug(this.drug).then(res => {\r\n      this.loading = false;\r\n      if (res[\"retCode\"]) {\r\n        this.drug = {};\r\n        this.instructions = \"\";\r\n        this.queryPresDrug();\r\n        console.log(res);\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n  orderMoney = 0\r\n  serviceMoney = 0\r\n  preIndex = 0;\r\n  preDrugList = [];\r\n  queryPresDrug() {\r\n    indexApi.queryPresDrug({ preId: this.presId }).then(res => {\r\n      if (res[\"retCode\"]) {\r\n        console.log(res.data)\r\n//       res.data ==   {\r\n//           data:[],\r\n// orderMoney:0,\r\n// serviceMoney:0\r\n//         }\r\n        this.preDrugList = res.data.data;\r\n        this.orderMoney = res.data.orderMoney\r\n        this.serviceMoney = res.data.serviceMoney\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n\r\n  tranRemake = \"\";\r\n\r\n  dotransmit() {\r\n    console.log(\"转方\");\r\n    console.log(\"药品数\", this.preDrugList.length);\r\n    if (this.preDrugList.length == 0) {\r\n      this.$alert(\"至少添加一条药品信息\");\r\n      return;\r\n    }\r\n\r\n    this.$confirm(\"药品填写完成?现在开始转方?\", \"提示\", {\r\n      confirmButtonText: \"确定\",\r\n      cancelButtonText: \"取消\",\r\n      type: \"warning\"\r\n    })\r\n      .then(() => {\r\n        this.backLoad = true;\r\n        let temporaryPrescriptiondrugIds = [];\r\n        this.preDrugList.forEach((item, index) => {\r\n          temporaryPrescriptiondrugIds.push(item.prescriptionDrugId);\r\n          if (temporaryPrescriptiondrugIds.length == this.preDrugList.length) {\r\n            indexApi\r\n              .dotransmit({\r\n                temporaryPrescriptiondrugId: temporaryPrescriptiondrugIds.join(\r\n                  \",\"\r\n                ),\r\n                prescriptionId: this.presId,\r\n                tranRemake: this.tranRemake,\r\n                changeName: sessionStorage.name,\r\n                changeId: sessionStorage.merchantUserId\r\n                // serviceMoney:0,\r\n              })\r\n              .then(res => {\r\n                this.backLoad = false;\r\n\r\n                if (res[\"retCode\"]) {\r\n                  this.$message(\"转方成功\");\r\n                  this.tranRemake = \"\";\r\nif(res.data.nextPresId){\r\n                  this.getCountForList(\"xia\", res.data.nextPresId);\r\n}else{\r\n                     this.$router.push(\"/transmit\");\r\n}\r\n                } else {\r\n                  if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n                  console.error(\"数据查询错误\");\r\n                }\r\n              });\r\n          }\r\n        });\r\n      })\r\n      .catch(() => {\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消操作\"\r\n        });\r\n      });\r\n  }\r\n\r\n  preImageList = [];\r\n  getPrePic() {\r\n    indexApi.getPrePic({ preId: this.presId }).then(res => {\r\n      if (res[\"retCode\"]) {\r\n        this.preImageList = res.data;\r\n        if(res.data.length>0){\r\n          let a:any =    this.$refs.cropper\r\n     a.changePreImageUrl(0);\r\n        }\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n  presId = \"\";\r\n  prodetail = {};\r\n  queryPresDetatil() {\r\n    indexApi.queryPresDetatil({ preId: this.presId }).then(res => {\r\n      if (res[\"retCode\"]) {\r\n        this.prodetail = res.data;\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n  specificationList = [];\r\n  partnerNameList = [];\r\n  remoteMethod(query) {\r\n    if (query == undefined || query == null) {\r\n      return;\r\n    }\r\n    if (query !== \"\") {\r\n      this.loading = true;\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n        this.getDrugList(query);\r\n        console.log(query);\r\n      }, 200);\r\n    } else {\r\n      this.options4 = [];\r\n    }\r\n  }\r\n\r\n  options4 = [];\r\n  value9 = [];\r\n  list = [];\r\n\r\n  drugList = [];\r\n\r\n  getDrugList(query) {\r\n    //  this.drug.commonName\r\n    indexApi\r\n      .getGrugList({\r\n        keyFName: query\r\n      })\r\n      .then(res => {\r\n        if (res[\"retCode\"]) {\r\n          this.options4 = res.data.list;\r\n        } else {\r\n          if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n  }\r\n  leftDis = false;\r\n  rightDis = false;\r\n\r\n  getCountForList(type, presId) {\r\n    this.backLoad = true;\r\n    \r\n    if (!sessionStorage.tranObject || sessionStorage.tranObject.length == 0) {\r\n      this.backLoad = false;\r\n      this.leftDis = true;\r\n      this.rightDis = true;\r\n      this.$message(\"请到转方客服页面刷新后再操作\");\r\n      return;\r\n    }\r\n\r\n    let a = JSON.parse(sessionStorage.tranObject);\r\n    Object.assign(a, { presId: sessionStorage.presId });\r\n    indexApi.findPrescriptionByType(a).then(res => {\r\n      if (res[\"retCode\"]) {\r\n\r\n     if(presId){\r\n        sessionStorage.presId = presId\r\n        this.init();\r\n        return\r\n    }\r\n\r\n        this.leftDis = res.data.Frist ? false : true;\r\n        this.rightDis = res.data.Third ? false : true;\r\n        if (type == \"shang\" && res.data.Frist) {\r\n          sessionStorage.presId = res.data.Frist.presId;\r\n          this.rightDis = false;\r\n        }\r\n        if (type == \"xia\" && res.data.Third) {\r\n          sessionStorage.presId = res.data.Third.presId;\r\n          this.leftDis = false;\r\n        }\r\n\r\n        this.init();\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n        this.backLoad = false;\r\n      }\r\n    });\r\n  }\r\n  init() {\r\n    this.backLoad = true;\r\n    console.log(sessionStorage.presId);\r\n\r\n    this.presId = sessionStorage.presId;\r\n    this.queryPresDrug();\r\n    this.getPrePic();\r\n    this.queryPresDetatil();\r\n    this.countPreByStatu();\r\n    this.allPrescription();\r\n\r\n    this.backLoad = false;\r\n    this.drug = {};\r\n    this.instructions = \"\";\r\n    setTimeout(() => {\r\n      if (this.backLoad) {\r\n        this.backLoad = false;\r\n      }\r\n    }, 5000);\r\n  }\r\n\r\n\t\t\r\n  mounted() {\r\n    this.init();\r\n\r\n    // this.getDrugList()//获取默认药品列表\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/transmit/handleransmit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.backLoad),expression:\"backLoad\"}]},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"padding\":\"20px 0\"}},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{staticStyle:{\"font-weight\":\"600\",\"font-size\":\"20px\",\"color\":\"#2c3e50\"},attrs:{\"to\":{ path: '/transmit' }}},[_c('span',{staticClass:\"fllll\",staticStyle:{\"cursor\":\"pointer\"}},[_vm._v(\"转方管理\")])]),_vm._v(\" \"),_c('el-breadcrumb-item',{staticStyle:{\"font-size\":\"16px\",\"line-height\":\"20px\",\"color\":\"#2c3e50\"}},[_c('span',{staticClass:\"fllll\"},[_vm._v(\"转方工作台\")])])],1)],1),_vm._v(\" \"),_c('div',[_c('span',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(\"平台处方数量统计 \"+_vm._s(_vm.allprescription)+\" 个\")]),_vm._v(\" \"),_c('span',[_vm._v(\" 待转方数量 \"+_vm._s(_vm.notCount)+\" 个\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\",\"float\":\"right\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"disabled\":_vm.leftDis,\"icon\":\"el-icon-arrow-left\"},on:{\"click\":function($event){_vm.getCountForList('shang')}}},[_vm._v(\"上一条\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"disabled\":_vm.rightDis},on:{\"click\":function($event){_vm.getCountForList('xia')}}},[_vm._v(\"下一条\"),_c('i',{staticClass:\"el-icon-arrow-right\"})])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"wrap\",\"margin-bottom\":\"10px\"}},[_c('div',{staticStyle:{\"margin-top\":\"10px\",\"margin-right\":\"10px\"}},[_vm._v(\"\\n处方状态：\"+_vm._s(_vm.handleStatus(_vm.prodetail.presState))+\"\\n\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"10px\",\"margin-right\":\"10px\"}},[_vm._v(\"\\n    医生备注：\"+_vm._s(_vm.prodetail.remark)+\"\\n    \")]),_vm._v(\" \"),(_vm.prodetail.presState == 'REJECT_AUDIT_PRESCRIPTION' )?_c('div',{staticStyle:{\"margin-top\":\"10px\",\"margin-right\":\"10px\"}},[_vm._v(\"审方退回原因：\"+_vm._s(_vm.prodetail.rejectAuditReason))]):_vm._e(),_vm._v(\" \"),(_vm.prodetail.presState == 'REJECT_AUDIT_PRESCRIPTION' )?_c('div',{staticStyle:{\"margin-top\":\"10px\",\"margin-right\":\"10px\"}},[_vm._v(\"审方退回时间：\"+_vm._s(_vm.prodetail.rejectAuditTime))]):_vm._e()])]),_vm._v(\" \"),_c('h4',{staticStyle:{\"margin\":\"10px 0\"}},[_vm._v(\"患者信息\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"wrap\",\"margin-bottom\":\"10px\"}},_vm._l((_vm.prodeInfo),function(item,index){return _c('div',{staticStyle:{\"margin-top\":\"10px\",\"margin-right\":\"10px\"}},[_c('span',[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.prodetail[item.value]))])])})),_vm._v(\" \"),_c('el-row',{staticStyle:{\"padding\":\"0 0 20px\"},attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":24,\"md\":12,\"lg\":12,\"xl\":12}},[_c('corpperlabel',{ref:\"cropper\",attrs:{\"preImageList\":_vm.preImageList}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":24,\"sm\":24,\"md\":12,\"lg\":10,\"xl\":8}},[_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"药品名称：\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"remote\":\"\",\"placeholder\":\"请输入药品\",\"remote-method\":_vm.remoteMethod,\"loading\":_vm.loading},on:{\"change\":_vm.selectDrug},model:{value:(_vm.drug.drugId),callback:function ($$v) {_vm.$set(_vm.drug, \"drugId\", $$v)},expression:\"drug.drugId\"}},_vm._l((_vm.options4),function(item){return _c('el-option',{key:item.drugId,attrs:{\"label\":item.commonName +'/' +item.productName+'/'+item.specification +'/' +item.manufacturer,\"value\":item.drugId}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"药品规格：\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请输入药品规格\",\"loading\":_vm.loading},on:{\"change\":_vm.selectSpecification},model:{value:(_vm.drug.specification),callback:function ($$v) {_vm.$set(_vm.drug, \"specification\", $$v)},expression:\"drug.specification\"}},_vm._l((_vm.specificationList),function(item){return _c('el-option',{key:item.specification,attrs:{\"label\":item,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"供应商：\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请输入供应商\",\"loading\":_vm.loading},on:{\"change\":_vm.changePartnerName},model:{value:(_vm.drug.partnerObj),callback:function ($$v) {_vm.$set(_vm.drug, \"partnerObj\", $$v)},expression:\"drug.partnerObj\"}},_vm._l((_vm.partnerNameList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item.partnerName,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用法：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用法\",\"clearable\":\"\"},model:{value:(_vm.drug.usages),callback:function ($$v) {_vm.$set(_vm.drug, \"usages\", $$v)},expression:\"drug.usages\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"单次用量：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入单次用量\",\"clearable\":\"\"},model:{value:(_vm.drug.dosage),callback:function ($$v) {_vm.$set(_vm.drug, \"dosage\", $$v)},expression:\"drug.dosage\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"频次：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入频次\",\"clearable\":\"\"},model:{value:(_vm.drug.frequency),callback:function ($$v) {_vm.$set(_vm.drug, \"frequency\", $$v)},expression:\"drug.frequency\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"使用说明：\"}},[_c('el-input',{staticStyle:{\"max-width\":\"400px\"},attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"请输入使用说明\"},model:{value:(_vm.instructions),callback:function ($$v) {_vm.instructions=$$v},expression:\"instructions\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"数量：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入数量\",\"type\":\"number\",\"min\":1,\"value\":1},model:{value:(_vm.drug.quantity),callback:function ($$v) {_vm.$set(_vm.drug, \"quantity\", $$v)},expression:\"drug.quantity\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"药品价格：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入药品价格\"},model:{value:(_vm.drug.price),callback:function ($$v) {_vm.$set(_vm.drug, \"price\", $$v)},expression:\"drug.price\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.docreateDrug()}}},[_vm._v(\"提交\")])],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"border-bottom\":\"1px #e5e5e5 solid\",\"padding\":\"10px 0\"}}),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.preDrugList,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"drugId\",\"label\":\"药品编号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"hisCode\",\"label\":\"商品编码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"drugName\",\"label\":\"药品名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"partnerName\",\"label\":\"供应商\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"specification\",\"label\":\"药品规格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"usages\",\"label\":\"用法\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dosage\",\"label\":\"用量\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"instructions\",\"label\":\"使用说明\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"frequency\",\"label\":\"频次\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"quantity\",\"label\":\"数量\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"药品价格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createDate\",\"label\":\"提交时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){_vm.deletePreDrug(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\",\"padding\":\"15px\"}},[_c('el-input',{staticStyle:{\"max-width\":\"400px\"},attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"转方备注/退回原因\"},model:{value:(_vm.tranRemake),callback:function ($$v) {_vm.tranRemake=$$v},expression:\"tranRemake\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin-right\":\"20px\"}},[_c('div',[_vm._v(\"服务费：\"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"￥\"+_vm._s(_vm.serviceMoney))])]),_vm._v(\" \"),_c('div',[_vm._v(\"合计：\"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"￥\"+_vm._s(_vm.orderMoney))])])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"padding\":\"15px\"}},[_c('div',[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.doSubmit()}}},[_vm._v(\"退回\")])],1),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dotransmit()}}},[_vm._v(\"转方\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"width\":\"70vw\",\"close-on-click-modal\":false,\"visible\":_vm.filterdrugModel,\"title\":\"选择药品\"},on:{\"update:visible\":function($event){_vm.filterdrugModel=$event}}},[_c('filterdrug',{ref:\"filterdrug\",attrs:{\"transmitType\":true},on:{\"selectRow\":function($event){_vm.selectRow()}}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5009710b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/transmit/handleransmit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5009710b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./handleransmit.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./handleransmit.vue\"\nimport __vue_script__ from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./handleransmit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5009710b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./handleransmit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5009710b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/transmit/handleransmit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}