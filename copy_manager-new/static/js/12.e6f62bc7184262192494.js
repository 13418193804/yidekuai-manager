webpackJsonp([12],{"2kzB":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("TToO"),l=a("7+uW"),i=a("c+8m"),s=a.n(i),n=a("RXoh"),o=a("vkqf"),d=a("PJh5"),c=a.n(d),p=a("K8i7"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.provinceList=[],t.paymentMode="",t.reminderVEnums="NEW_ORDER",t.allprescription=0,t.loading=!1,t.date=[],t.durl="",t.key="",t.page=0,t.pageSize=10,t.total=100,t.orderList=[],t.consigneeAddress="",t.rderStatus="",t.invoice=0,t.NEW_ORDER=0,t.ORDER_WAIT_RECVGOODS=0,t.ORDER_WAIT_PAY=0,t}return r.b(t,e),t.prototype.handleOrderStatus=function(e){switch(e){case"ORDER_INIT":return"订单初始化";case"ORDER_WAIT_PAY":return"等待支付";case"ORDER_PAY_ONDEV":return"货到付款";case"ORDER_CANCEL_PAY":return"交易关闭";case"ORDER_WAIT_SENDGOODS":return"待发货";case"SENDGOODS_UNFINISHED":return"发货未完成";case"ORDER_WAIT_RECVGOODS":return"待收货";case"ORDER_END_GOODS":return"订单已完成";default:return""}},t.prototype.queryProvinceList=function(){var e=this;p.g().then(function(t){e.provinceList=t.data.region})},t.prototype.getOrderExcel=function(){var e=this;this.loading=!0,n._1({startCreateDate:this.date&&this.date.length>0?c()(this.date[0]).format("YYYY-MM-DD")+" 00:00:00":"",endCreateDate:this.date&&this.date.length>0?c()(this.date[1]).format("YYYY-MM-DD")+" 23:59:59":"",orderStatusEnum:this.rderStatus,paymentMode:this.paymentMode}).then(function(t){t.retCode?t.data.num>0?e.doResult(t.data.durl):(e.loading=!1,e.$alert("查询结果没有可导出数据")):t.islogin||e.$alert(t.message)})},t.prototype.doDownLoad=function(){window.open(this.durl)},t.prototype.doResult=function(e){var t=this;n._23({}).then(function(a){t.loading=!1,a.retCode?(t.$message("导出成功"),t.durl=e):a.islogin||t.$alert(a.message)})},t.prototype.onPageChange=function(e){this.page=e-1,this.getOrderList()},t.prototype.handleClick=function(e){this.rderStatus="",this.key="",this.paymentMode="",this.consigneeAddress="",this.date=["",""],this.rderStatus="",this.page=0,this.getOrderList(!0)},t.prototype.getOrderList=function(e){var t=this;void 0===e&&(e=null),e&&(this.page=0);var a=this.reminderVEnums;if("rework"==this.reminderVEnums)return this.loading=!0,void n._15({key:this.key,startCreateDate:this.date&&this.date.length>0?c()(this.date[0]).format("YYYY-MM-DD")+" 00:00:00":"",endCreateDate:this.date&&this.date.length>0?c()(this.date[1]).format("YYYY-MM-DD")+" 23:59:59":"",page:this.page,pageSize:this.pageSize}).then(function(e){t.loading=!1,e.retCode?(t.orderList=e.data.data,t.total=e.data.page.total):e.islogin||t.$alert(e.message)});this.loading=!0,n.T({paymentMode:this.paymentMode,reminderVEnums:a,key:this.key,consigneeAddress:this.consigneeAddress,startCreateDate:this.date&&this.date.length>0?c()(this.date[0]).format("YYYY-MM-DD")+" 00:00:00":"",endCreateDate:this.date&&this.date.length>0?c()(this.date[1]).format("YYYY-MM-DD")+" 23:59:59":"",orderStatusEnum:this.rderStatus,page:this.page,pageSize:this.pageSize}).then(function(e){t.loading=!1,t.queryOrderCount(),e.retCode?(t.orderList=e.data.data,t.total=e.data.page.total):e.islogin||t.$alert(e.message)})},t.prototype.queryOrderCount=function(){var e=this;n._31({}).then(function(t){t.retCode?(e.invoice=t.data.invoice,e.NEW_ORDER=t.data.NEW_ORDER,e.ORDER_WAIT_RECVGOODS=t.data.ORDER_WAIT_RECVGOODS,e.ORDER_WAIT_PAY=t.data.ORDER_WAIT_PAY,e.allprescription=t.data.all):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.mounted=function(){this.queryProvinceList(),this.getOrderList()},t=r.a([s()({props:{},components:{remindertable:o.a}})],t)}(l.default),m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"bouncing",rawName:"v-bouncing",value:e.loading,expression:"loading"}]},[a("div",{staticStyle:{}},[a("h3",[e._v("售后管理\n          ")]),e._v(" "),a("div",{staticStyle:{margin:"10px 0"}},[e._v("\n平台订单数量统计："+e._s(e.allprescription)+" 单  平台待发货订单数量统计："+e._s(e.NEW_ORDER)+" 单\n            ")])]),e._v(" "),a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.reminderVEnums,callback:function(t){e.reminderVEnums=t},expression:"reminderVEnums"}},[a("el-tab-pane",{attrs:{label:"待发货订单（"+e.NEW_ORDER+"）",name:"NEW_ORDER"}},[a("div",{staticStyle:{"padding-bottom":"20px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:8,sm:8,md:5,lg:5,xl:5}},[a("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"姓名/手机号/身份证/处方编号",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),a("el-col",{attrs:{xs:9,sm:9,md:6,lg:6,xl:6}},[a("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入收货地址",clearable:""},model:{value:e.consigneeAddress,callback:function(t){e.consigneeAddress=t},expression:"consigneeAddress"}})],1),e._v(" "),a("el-col",{staticStyle:{"min-width":"360px"},attrs:{xs:2,sm:2,md:2,lg:2,xl:2}},[a("el-date-picker",{staticStyle:{"margin-top":"20px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{xs:5,sm:5,md:2,lg:2,xl:2}},[a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.getOrderList(!0)}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("remindertable",{ref:"remindertable",attrs:{cowWidth:260,provinceList:e.provinceList,orderList:e.orderList,pagetype:"afterorder"},on:{getOrderList:e.getOrderList}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"待收货订单（"+e.ORDER_WAIT_RECVGOODS+"）",name:"ORDER_WAIT_RECVGOODS"}},[a("div",{staticStyle:{"padding-bottom":"20px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:8,sm:8,md:5,lg:5,xl:5}},[a("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"姓名/手机号/身份证/处方编号",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),a("el-col",{attrs:{xs:9,sm:9,md:6,lg:6,xl:6}},[a("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入收货地址",clearable:""},model:{value:e.consigneeAddress,callback:function(t){e.consigneeAddress=t},expression:"consigneeAddress"}})],1),e._v(" "),a("el-col",{staticStyle:{"min-width":"360px"},attrs:{xs:2,sm:2,md:2,lg:2,xl:2}},[a("el-date-picker",{staticStyle:{"margin-top":"20px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{xs:5,sm:5,md:2,lg:2,xl:2}},[a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.getOrderList(!0)}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("remindertable",{ref:"remindertable",attrs:{cowWidth:200,provinceList:e.provinceList,orderList:e.orderList,pagetype:"afterorder"},on:{getOrderList:e.getOrderList}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"待付款订单（"+e.ORDER_WAIT_PAY+"）",name:"ORDER_WAIT_PAY"}},[a("div",{staticStyle:{"padding-bottom":"20px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:8,sm:8,md:5,lg:5,xl:5}},[a("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"姓名/手机号/身份证/处方编号",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),a("el-col",{attrs:{xs:9,sm:9,md:6,lg:6,xl:6}},[a("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入收货地址",clearable:""},model:{value:e.consigneeAddress,callback:function(t){e.consigneeAddress=t},expression:"consigneeAddress"}})],1),e._v(" "),a("el-col",{staticStyle:{"min-width":"360px"},attrs:{xs:2,sm:2,md:2,lg:2,xl:2}},[a("el-date-picker",{staticStyle:{"margin-top":"20px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{xs:5,sm:5,md:2,lg:2,xl:2}},[a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.getOrderList(!0)}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("remindertable",{ref:"remindertable",attrs:{cowWidth:200,provinceList:e.provinceList,orderList:e.orderList,pagetype:"afterorder",payStatus:"ORDER_WAIT_PAY"},on:{getOrderList:e.getOrderList}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"待开发票（"+e.invoice+"）",name:"rework"}},[a("div",{staticStyle:{"padding-bottom":"20px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:8,sm:8,md:5,lg:5,xl:5}},[a("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"姓名/手机号",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),a("el-col",{staticStyle:{"min-width":"360px"},attrs:{xs:2,sm:2,md:2,lg:2,xl:2}},[a("el-date-picker",{staticStyle:{"margin-top":"20px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{xs:5,sm:5,md:2,lg:2,xl:2}},[a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.getOrderList(!0)}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("remindertable",{ref:"remindertable",attrs:{cowWidth:260,orderList:e.orderList,pagetype:"rework"},on:{getOrderList:e.getOrderList}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"全部（"+e.allprescription+"）",name:"ALL"}},[a("div",{staticStyle:{"padding-bottom":"20px"}},[a("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:10}},[a("el-form",{attrs:{"label-width":"80px",inline:!0}},[a("el-col",{staticStyle:{"min-width":"320px","margin-top":"10px"},attrs:{xs:2,sm:2,md:2,lg:2,xl:2}},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"状态"}},[a("el-select",{model:{value:e.rderStatus,callback:function(t){e.rderStatus=t},expression:"rderStatus"}},[a("el-option",{attrs:{value:"",label:"全部"}}),e._v(" "),a("el-option",{attrs:{value:"ORDER_WAIT_PAY",label:"等待支付"}}),e._v(" "),a("el-option",{attrs:{value:"ORDER_CANCEL_PAY",label:"交易关闭"}}),e._v(" "),a("el-option",{attrs:{value:"ORDER_WAIT_SENDGOODS",label:"待发货"}}),e._v(" "),a("el-option",{attrs:{value:"SENDGOODS_UNFINISHED",label:"发货未完成"}}),e._v(" "),a("el-option",{attrs:{value:"ORDER_WAIT_RECVGOODS",label:"待收货"}}),e._v(" "),a("el-option",{attrs:{value:"ORDER_END_GOODS",label:"订单已完成"}})],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"min-width":"360px"},attrs:{xs:2,sm:2,md:2,lg:2,xl:2}},[a("el-date-picker",{staticStyle:{"margin-top":"10px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{directives:[{name:"promiss",rawName:"v-promiss.export",modifiers:{export:!0}}],staticStyle:{"margin-top":"10px"},attrs:{xs:24,sm:12,md:8,lg:8,xl:7}},[a("div",{staticClass:"flex flex-align-center "},[a("div",{staticStyle:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","min-width":"300px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getOrderExcel()}}},[e._v("生成导出文件")]),e._v(" "),e.durl?a("span",[e._v(e._s(e.durl))]):e._e()],1),e._v(" "),e.durl?a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.doDownLoad()}}},[e._v("下载")])],1):e._e()])])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-form",{attrs:{"label-width":"80px",inline:!0}},[a("el-col",{staticStyle:{"min-width":"320px","margin-top":"20px"},attrs:{xs:2,sm:2,md:2,lg:2,xl:2}},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"支付方式"}},[a("el-select",{model:{value:e.paymentMode,callback:function(t){e.paymentMode=t},expression:"paymentMode"}},[a("el-option",{attrs:{value:"",label:"全部"}}),e._v(" "),a("el-option",{attrs:{value:"ONLINE_PAYMENT",label:"微信支付"}}),e._v(" "),a("el-option",{attrs:{value:"ORDER_PAY_ONDEV",label:"货到付款"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:12,sm:9,md:6,lg:6,xl:5}},[a("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"姓名/手机号/身份证/处方编号",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),a("el-col",{attrs:{xs:12,sm:9,md:6,lg:6,xl:6}},[a("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入收货地址",clearable:""},model:{value:e.consigneeAddress,callback:function(t){e.consigneeAddress=t},expression:"consigneeAddress"}})],1),e._v(" "),a("el-col",{attrs:{xs:1,sm:1,md:1,lg:1,xl:1}},[a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.getOrderList(!0)}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("remindertable",{ref:"remindertable",attrs:{cowWidth:260,provinceList:e.provinceList,orderList:e.orderList,pagetype:"afterorder"},on:{getOrderList:e.getOrderList}})],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{"current-page":e.page+1,layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.onPageChange}})],1)],1)},staticRenderFns:[]};var u=a("VU/8")(g,m,!1,function(e){a("Mrjm")},"data-v-64176040",null);t.default=u.exports},Mrjm:function(e,t){}});
//# sourceMappingURL=12.e6f62bc7184262192494.js.map