webpackJsonp([15],{"nA/R":function(e,t){},xZAf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("TToO"),r=i("7+uW"),s=i("c+8m"),o=i.n(s),l=i("RXoh"),n=i("YsZW"),p=i("k9eN"),c=i("K8i7"),d=i("FL7F"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prodeInfo=[{title:"患者",list:[{title:"患者姓名：",value:"memberName",model:"memberName"},{title:"患者手机：",value:"memberPhone",model:"memberPhone"},{title:"患者性别：",value:"patientSex",model:"patientSex"},{title:"患者年龄：",value:"memberAge",model:"memberAge"},{title:"患者身份证：",value:"memberIdcard",model:"memberIdcard"},{title:"地址：",value:"consigneeAddress",model:"a"}]},{title:"地址",list:[]},{title:"医生",list:[{title:"医生姓名：",value:"docterName",model:"docterName"},{title:"医生电话：",value:"doctorMobile",model:"doctorMobile"},{title:"医生医院：",value:"hospitalName",model:"hospitalName"},{title:"科室：",value:"docterDept",model:"docterDept"},{title:"诊断：",value:"diagnose",model:"diagnose"}]}],t.activeNames=[0,1,2],t.dialogImageUrl="",t.dialogVisible=!1,t.add_upload_loading=!1,t.fileUploadUrl="",t.fileList=[],t.auditingRemake="",t.presId="",t.preDrugList=[],t.allprescription=0,t.backLoad=!1,t.checkPhone=/^1[345789]\d{9}$/,t.countPreByStatuObj={},t.rejectContext="",t.preIndex=0,t.preImageList=[],t.prodetail={},t.createForm={},t.payModeEnum="",t.mobile="",t.filter_model=!1,t.filter_type="",t.resultList=[],t.noMessage_model=!1,t.noMessage_loading=!1,t.leftDis=!1,t.rightDis=!1,t.provinceList=[],t.cityList=[],t.countryList=[],t.pres_type="",t}return a.b(t,e),t.prototype.handlePictureCardPreview=function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},t.prototype.beforeUpload=function(e){this.add_upload_loading=!0;var t=e.size/1024/1024<5;return t||this.$message.error("上传图片大小不能超过 5MB!"),t},t.prototype.handleSuccess1=function(e,t,i){var a={name:"1.png",url:e.data.filename};this.fileList.push(a),this.add_upload_loading=!1},t.prototype.handleRemove=function(e,t){for(var i in this.fileList){if(this.fileList[i].url==e.url){console.log("find ..."),this.fileList.splice(i,1);break}}},t.prototype.allPrescription=function(){var e=this;l.m().then(function(t){t.retCode?(console.log(t.data),e.allprescription=t.data.All):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.handleprescriptionType=function(e){switch(e){case"BACK_HANDWORK":return"直接开方";case"DOC_HANDWORK":return"线下订单";case"PHOTO":return"普通单";default:return""}},t.prototype.handleStatus=function(e){switch(e){case"NOT_TRANSLATED_PRESCRIPTION":return"未转方";case"ALREADY_TRANSLATED_PRESCRIPTION":return"已转方";case"FAIL_TRANSLATED_PRESCRIPTION":return"转方失败";case"REJECT_TRANSLATED_PRESCRIPTION":return"已驳回开方";case"ALREADY_AUDIT_PRESCRIPTION":return"已审方";case"FAIL_AUDIT_PRESCRIPTION":return"审方失败";case"REJECT_AUDIT_PRESCRIPTION":return"已驳回转方";default:return""}},t.prototype.doUpdatePre=function(e){var t=this;this.createForm.presId=this.presId,this.createForm.feeHide=this.createForm.feeTypeEnum,this.createForm.payModeEnum=this.payModeEnum,l._40(this.createForm).then(function(i){i.retCode?"back"===e?t.doBack():t.checkPre1():i.islogin||t.$alert(i.message)})},t.prototype.checkPre1=function(){var e=this;this.backLoad=!0,l.p({prescriptionId:this.presId,auditingid:sessionStorage.userId,auditingName:sessionStorage.name,auditingRemake:this.auditingRemake}).then(function(t){e.backLoad=!1,t.retCode?(e.$message("审方成功"),e.auditingRemake="",t.data.nextPresId?e.getCountForList("xia",t.data.nextPresId):e.$router.push("/audit")):t.islogin||e.$alert(t.message)})},t.prototype.checkPre=function(){var e=this;if(""!==(this.payModeEnum||"")||"BACK_HANDWORK"!==this.pres_type&&"DOC_HANDWORK"!==this.pres_type){if("BACK_HANDWORK"===this.pres_type||"DOC_HANDWORK"==this.pres_type){if(""===(this.createForm.memberName||""))return void this.$message("请输入患者姓名");return""!==(this.createForm.memberAge||"")||/^(?:[0-9][0-9]?|1[012][0-9]|130)$/.test(this.createForm.memberAge)?""===(this.createForm.memberPhone||"")?void this.$message("请输入患者手机号"):this.checkPhone.test(this.createForm.memberPhone)?""!==(this.createForm.memberIdcard||"")?void this.vaild_memberIdcard(function(){e.after_vaild_doback()}):void this.after_vaild_doback():void this.$message("请输入正确的患者手机号"):void this.$message("请输入0-130岁的年龄")}}else this.$message("请选择支付状态")},t.prototype.vaild_memberIdcard=function(e){var t=this;l.q({idcard:this.createForm.memberIdcard}).then(function(i){return i.retCode?void e():void(i.islogin||t.$message(i.message))})},t.prototype.after_vaild_doback=function(){var e=this;if("BACK_HANDWORK"==this.pres_type||"DOC_HANDWORK"==this.pres_type){if(!(this.fileList.length>0))return void this.$message("请上传处方图片");this.createForm.pictureIds=this.fileList.map(function(e){return e.url}).join(",")}this.$confirm("是否同意审方？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){"BACK_HANDWORK"==e.pres_type||"DOC_HANDWORK"==e.pres_type?e.doUpdatePre("check"):e.checkPre1()}).catch(function(){e.$message({type:"info",message:"已取消操作"})})},Object.defineProperty(t.prototype,"notCount",{get:function(){return this.countPreByStatuObj.data2?this.countPreByStatuObj.data2.count:0},enumerable:!0,configurable:!0}),t.prototype.countPreByStatu=function(){var e=this;l.t({}).then(function(t){t.retCode?e.countPreByStatuObj=t.data:(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.doBack=function(){var e=this;this.backLoad=!0,l.E({prescriptionId:this.presId,auditingName:sessionStorage.name,rejectContext:this.auditingRemake}).then(function(t){t.retCode?(e.backLoad=!1,e.$message("退回成功"),e.auditingRemake="",""!==(t.data.nextPresId||"")?e.getCountForList("xia",t.data.nextPresId):e.$router.push("/audit")):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.doSubmit=function(){var e=this;if("BACK_HANDWORK"===this.pres_type||"DOC_HANDWORK"==this.pres_type){if(""===(this.createForm.memberName||""))return void this.$message("请输入患者姓名");return""!==(this.createForm.memberAge||"")||/^(?:[0-9][0-9]?|1[012][0-9]|130)$/.test(this.createForm.memberAge)?""===(this.createForm.memberPhone||"")?void this.$message("请输入患者手机号"):this.checkPhone.test(this.createForm.memberPhone)?""!==(this.createForm.memberIdcard||"")?void this.vaild_memberIdcard(function(){e.after_vaild()}):void this.after_vaild():void this.$message("请输入正确的患者手机号"):void this.$message("请输入0-130岁的年龄")}},t.prototype.after_vaild=function(){var e=this;if("BACK_HANDWORK"==this.pres_type||"DOC_HANDWORK"==this.pres_type){if(!(this.fileList.length>0))return void this.$message("请上传处方图片");this.createForm.pictureIds=this.fileList.map(function(e){return e.url}).join(",")}this.$confirm("确定要退回审方？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){"BACK_HANDWORK"==e.pres_type||"DOC_HANDWORK"==e.pres_type?e.doUpdatePre("back"):e.doBack()}).catch(function(){e.$message({type:"info",message:"已取消操作"})})},t.prototype.queryPresDrugback=function(){var e=this;l._29({preId:this.presId}).then(function(t){t.retCode?(console.log("处方id查询药品列表",t),e.preDrugList=t.data):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.getPrePic=function(){var e=this;l._9({preId:this.presId}).then(function(t){t.retCode?(e.preImageList=t.data,e.fileList=t.data.map(function(e){return{url:e.presImageUrl}}),t.data.length>0&&e.$refs.cropper.changePreImageUrl(0)):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.queryPresDetatil=function(){var e=this;l._27({preId:this.presId}).then(function(t){t.retCode?(e.prodetail=t.data,e.pres_type=e.prodetail.prescriptionType,"DOC_HANDWORK"!==e.prodetail.prescriptionType&&"BACK_HANDWORK"!=e.prodetail.prescriptionType||(e.createForm.memberId=e.prodetail.memberId?e.prodetail.memberId:"",e.createForm.memberid=e.prodetail.memberId?e.prodetail.memberId:"",e.createForm.memberName=e.prodetail.memberName?e.prodetail.memberName:"",e.createForm.memberPhone=e.prodetail.memberPhone?e.prodetail.memberPhone:"",e.createForm.patientSex=e.prodetail.patientSex?e.prodetail.patientSex:"",e.createForm.memberIdcard=e.prodetail.memberIdcard?e.prodetail.memberIdcard:"",e.createForm.memberAge=e.prodetail.memberAge?e.prodetail.memberAge:"",e.createForm.docterName=e.prodetail.docterName,e.createForm.docterName=e.prodetail.docterName,e.createForm.consigneeName=e.prodetail.consigneeName,e.createForm.consigneePhone=e.prodetail.consigneePhone,e.createForm.docterId=e.prodetail.docterId,e.createForm.doctorMobile=e.prodetail.doctorMobile,e.createForm.hospitalName=e.prodetail.hospitalName,e.createForm.docterDept=e.prodetail.docterDept,e.createForm.diagnose=e.prodetail.diagnose,""!==(e.prodetail.payStatus||"")&&("PAY_ON_DELIVERY"===e.prodetail.payStatus?e.payModeEnum="ORDER_PAY_ONDEV":e.payModeEnum=e.prodetail.payStatus),""!==(e.prodetail.provinceid||"")&&(e.createForm.provinceid=e.prodetail.provinceid,e.queryCityList()),""!==(e.prodetail.cityid||"")&&(e.createForm.cityid=e.prodetail.cityid,e.queryCountryList()),e.prodetail.areaid&&(e.createForm.areaid=e.prodetail.areaid),e.createForm.consigneeAddress=e.prodetail.consigneeAddress?e.prodetail.consigneeAddress:"")):t.islogin||e.$alert(t.message)})},t.prototype.changefilter_box=function(e){this.filter_type=e,this.filter_model=!this.filter_model,this.resultList=[],this.mobile=""},t.prototype.select_item=function(e){e.doctorId&&(this.createForm.doctorid=e.doctorId,this.createForm.docterId=e.doctorId,this.createForm.docterName=e.name,this.createForm.doctorMobile=e.phone,this.createForm.hospitalName=e.hospitalName,this.createForm.docterDept=e.hospitalDepartment),e.memberId&&(this.createForm.memberId=e.memberId,this.createForm.memberid=e.memberId,this.createForm.memberName=e.name,this.createForm.memberPhone=e.phone,this.createForm.patientSex=e.sex,this.createForm.memberIdcard=e.idCard,this.createForm.memberAge=e.age),this.filter_model=!1},t.prototype.filtering=function(){var e=this;if(this.mobile){this.noMessage_model=!1,this.noMessage_loading=!0;var t=function(){e.noMessage_loading=!1},i=function(){0===e.resultList.length&&(e.noMessage_model=!0)};"doctor"===this.filter_type&&p.n(0,100,this.mobile,"").then(function(a){t(),a.retCode?(e.resultList=a.data.list,i()):a.islogin||e.$alert(a.message)}),"menber"===this.filter_type&&l.Q({keyname:this.mobile,page:0,pageSize:100}).then(function(a){t(),a.retCode?(e.resultList=a.data.list,i()):a.islogin||e.$alert(a.message)})}},t.prototype.getCountForList=function(e,t){var i=this;if(this.backLoad=!0,!sessionStorage.auditObject||0==sessionStorage.auditObject.length)return this.backLoad=!1,this.leftDis=!0,this.rightDis=!0,void this.$message("请到审方客服页面刷新后再操作");var a=JSON.parse(sessionStorage.auditObject);Object.assign(a,{presId:sessionStorage.presId}),l.P(a).then(function(a){if(a.retCode){if(t)return sessionStorage.presId=t,void i.init();i.leftDis=!a.data.Frist,i.rightDis=!a.data.Third,"shang"==e&&a.data.Frist&&(sessionStorage.presId=a.data.Frist.presId,i.rightDis=!1),"xia"==e&&a.data.Third&&(sessionStorage.presId=a.data.Third.presId,i.leftDis=!1),i.init()}else a.islogin||i.$alert(a.message),console.error("数据查询错误"),i.backLoad=!1})},t.prototype.init=function(){var e=this;this.backLoad=!0,this.presId=sessionStorage.presId,this.queryPresDrugback(),this.queryPresDetatil(),this.getPrePic(),this.countPreByStatu(),this.allPrescription(),this.backLoad=!1,setTimeout(function(){e.backLoad&&(e.backLoad=!1)},5e3)},t.prototype.queryCountryList=function(){var e=this;delete this.createForm.areaid,c.f(this.createForm.cityid).then(function(t){e.countryList=t.data.region})},t.prototype.queryCityList=function(){var e=this;delete this.createForm.cityid,delete this.createForm.areaid,c.e(this.createForm.provinceid).then(function(t){e.cityList=t.data.region})},t.prototype.queryProvinceList=function(){var e=this;c.g().then(function(t){e.provinceList=t.data.region})},t.prototype.mounted=function(){this.fileUploadUrl=d.c,this.presId=sessionStorage.presId,this.queryProvinceList(),this.queryPresDrugback(),this.queryPresDetatil(),this.getPrePic(),this.countPreByStatu(),this.allPrescription()},t=a.a([o()({props:{},components:{corpperlabel:n.a}})],t)}(r.default),u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"bouncing",rawName:"v-bouncing",value:e.backLoad,expression:"backLoad"}]},[a("div",{staticStyle:{display:"flex","align-items":"center",padding:"20px 0"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{staticStyle:{"font-weight":"600","font-size":"20px",color:"#2c3e50"},attrs:{to:{path:"/audit"}}},[a("span",{staticClass:"fllll",staticStyle:{cursor:"pointer"}},[e._v("审方管理")])]),e._v(" "),a("el-breadcrumb-item",{staticStyle:{"font-size":"16px","line-height":"20px",color:"#2c3e50"}},[a("span",{staticClass:"fllll"},[e._v("审方工作台")])])],1),e._v(" "),a("div",[a("span",{staticStyle:{"margin-right":"10px"}},[e._v("平台处方数量统计 "+e._s(e.allprescription)+" 个")]),e._v(" "),a("span",[e._v("  待审方数量 "+e._s(e.notCount)+" 个")])])],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",float:"right"}},[a("el-button",{attrs:{size:"small",type:"primary",disabled:e.leftDis,icon:"el-icon-arrow-left"},on:{click:function(t){e.getCountForList("shang")}}},[e._v("上一条")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",disabled:e.rightDis},on:{click:function(t){e.getCountForList("xia")}}},[e._v("下一条"),a("i",{staticClass:"el-icon-arrow-right"})])],1),e._v(" "),a("div",{staticClass:"flex flex-warp-justify",staticStyle:{"margin-top":"10px","line-height":"28px"}},[a("h4",{staticStyle:{margin:"0"}},[e._v("处方状态：")]),e._v(" "),a("div",[e._v("\n    "+e._s(e.handleStatus(e.prodetail.presState))+"\n")]),e._v(" "),a("h4",{staticStyle:{margin:"0","padding-left":"10px"}},[e._v("处方类型：")]),e._v(" "),a("div",[e._v("\n    "+e._s(e.handleprescriptionType(e.prodetail.prescriptionType))+"\n")]),e._v(" "),"BACK_HANDWORK"===e.pres_type||"DOC_HANDWORK"===e.pres_type?a("div",{staticClass:"flex flex-warp-justify"},[a("h4",{staticStyle:{margin:"0","padding-left":"10px"}},[e._v("支付状态：")]),e._v(" "),a("div",[a("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.payModeEnum,callback:function(t){e.payModeEnum=t},expression:"payModeEnum"}},[a("el-option",{attrs:{label:"未支付",value:"PAY_WAIT"}}),e._v(" "),a("el-option",{attrs:{label:"已支付",value:"PAY_SUCCESS"}}),e._v(" "),a("el-option",{attrs:{label:"货到付款",value:"ORDER_PAY_ONDEV"}})],1)],1)]):e._e()]),e._v(" "),a("div",{staticStyle:{"font-size":"14.8px",display:"flex","flex-wrap":"wrap"}},[a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    开方时间："+e._s(e.prodetail.createDate)+"\n    ")]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    医生给患者备注："+e._s(e.prodetail.patientRemake)+"\n    ")]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    医生给转方备注："+e._s(e.prodetail.remark)+"\n    ")])]),e._v(" "),a("div",{staticStyle:{"font-size":"14.8px",display:"flex","flex-wrap":"wrap"}},["NOT_TRANSLATED_PRESCRIPTION"!=e.prodetail.presState?a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    转方时间："+e._s(e.prodetail.transDate)+"\n    ")]):e._e(),e._v(" "),"NOT_TRANSLATED_PRESCRIPTION"!=e.prodetail.presState?a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    转方医生："+e._s(e.prodetail.transDocName)+"\n    ")]):e._e(),e._v(" "),"NOT_TRANSLATED_PRESCRIPTION"!=e.prodetail.presState?a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    转方备注："+e._s(e.prodetail.transRemark)+"\n    ")]):e._e()]),e._v(" "),a("div",{staticStyle:{"font-size":"14.8px",display:"flex","flex-wrap":"wrap"}},["REJECT_TRANSLATED_PRESCRIPTION"==e.prodetail.presState?a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    转方退回时间："+e._s(e.prodetail.rejectTransTime)+"\n    ")]):e._e(),e._v(" "),"REJECT_TRANSLATED_PRESCRIPTION"==e.prodetail.presState?a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    转方退回医生："+e._s(e.prodetail.rejectTranName)+"\n    ")]):e._e(),e._v(" "),"REJECT_TRANSLATED_PRESCRIPTION"==e.prodetail.presState?a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    转方退回原因："+e._s(e.prodetail.returnReason)+"\n    ")]):e._e()]),e._v(" "),a("div",{staticStyle:{"font-size":"14.8px",display:"flex","flex-wrap":"wrap"}},["NOT_TRANSLATED_PRESCRIPTION"!=e.prodetail.presState&&"REJECT_AUDIT_PRESCRIPTION"!=e.prodetail.presState&&"REJECT_TRANSLATED_PRESCRIPTION"!=e.prodetail.presState&&"ALREADY_TRANSLATED_PRESCRIPTION"!=e.prodetail.presState?a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    审方时间："+e._s(e.prodetail.auditingDate)+"\n    ")]):e._e(),e._v(" "),"NOT_TRANSLATED_PRESCRIPTION"!=e.prodetail.presState&&"REJECT_AUDIT_PRESCRIPTION"!=e.prodetail.presState&&"ALREADY_TRANSLATED_PRESCRIPTION"!=e.prodetail.presState?a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    审方医生："+e._s(e.prodetail.auditingName)+"\n    ")]):e._e()]),e._v(" "),a("div",{staticStyle:{"font-size":"14.8px",display:"flex","flex-wrap":"wrap"}},["REJECT_AUDIT_PRESCRIPTION"==e.prodetail.presState||e.prodetail.rejectAuditTime?a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    审方退回时间："+e._s(e.prodetail.rejectAuditTime)+"\n    ")]):e._e(),e._v(" "),"REJECT_AUDIT_PRESCRIPTION"==e.prodetail.presState||e.prodetail.rejectAuditTime?a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    审方退回医生："+e._s(e.prodetail.rejectAuditName)+"\n    ")]):e._e(),e._v(" "),"REJECT_AUDIT_PRESCRIPTION"==e.prodetail.presState||e.prodetail.rejectAuditTime?a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},[e._v("\n    审方退回原因："+e._s(e.prodetail.rejectAuditReason)+"\n    ")]):e._e()]),e._v(" "),"BACK_HANDWORK"!==e.pres_type&&"DOC_HANDWORK"!==e.pres_type?a("div",e._l(e.prodeInfo,function(t,i){return 1!==i?a("div",[a("h4",{staticStyle:{margin:"10px 0"}},[e._v(e._s(t.title+"信息"))]),e._v(" "),a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","margin-bottom":"10px",height:"12px"}},e._l(t.list,function(t){return a("div",{staticClass:" flex  flex-align-center",staticStyle:{"margin-right":"10px","line-height":"12px"}},[a("span",[e._v(e._s(t.title))]),e._v(" "),a("span",[e._v(e._s(e.prodetail[t.value]))])])}))]):e._e()})):a("div",[a("el-collapse",{staticClass:"diy_collapse",model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.prodeInfo,function(t,i){return a("el-collapse-item",{attrs:{title:t.title+"信息",name:i}},[a("div",{staticStyle:{"margin-left":"20px"}},[0!=i||"BACK_HANDWORK"!==e.pres_type&&"DOC_HANDWORK"!=e.pres_type?e._e():a("div",{staticClass:"flex  flex-align-center opactiy",staticStyle:{cursor:"pointer","margin-left":"15px"},on:{click:function(t){e.changefilter_box(0==i?"menber":"doctor")}}},[a("i",{staticClass:"iconfont icon-sousuo1"}),e._v(" "),a("div",[e._v("搜"+e._s(t.title))])]),e._v(" "),1===i?a("div",[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","margin-bottom":"10px"}},[a("div",{staticClass:" flex  flex-align-center",staticStyle:{"margin-right":"10px","margin-top":"10px","line-height":"12px"}},[a("span",{staticStyle:{width:"130px","white-space":"nowrap"}},[e._v("收件人：")]),e._v(" "),a("el-input",{staticStyle:{"margin-right":"10px"},attrs:{size:"small",placeholder:"请输入收件人"},model:{value:e.createForm.consigneeName,callback:function(t){e.$set(e.createForm,"consigneeName",t)},expression:"createForm.consigneeName"}})],1),e._v(" "),a("div",{staticClass:" flex  flex-align-center",staticStyle:{"margin-right":"10px","margin-top":"10px","line-height":"12px"}},[a("span",{staticStyle:{width:"130px","white-space":"nowrap"}},[e._v("收件号码：")]),e._v(" "),a("el-input",{staticStyle:{"margin-right":"10px"},attrs:{size:"small",placeholder:"请输入收件号码"},model:{value:e.createForm.consigneePhone,callback:function(t){e.$set(e.createForm,"consigneePhone",t)},expression:"createForm.consigneePhone"}})],1)]),e._v(" "),a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","margin-bottom":"10px"}},[a("div",{staticClass:" flex  flex-align-center",staticStyle:{"margin-right":"10px","margin-top":"10px","line-height":"12px"}},[a("span",{staticStyle:{width:"130px","white-space":"nowrap"}},[e._v("收货地区：")]),e._v(" "),a("div",{staticClass:"el-input el-input--small",staticStyle:{"margin-left":"10px"}},[a("el-select",{attrs:{size:"small"},on:{change:function(t){e.queryCityList()}},model:{value:e.createForm.provinceid,callback:function(t){e.$set(e.createForm,"provinceid",t)},expression:"createForm.provinceid"}},e._l(e.provinceList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"el-input el-input--small",staticStyle:{"margin-left":"10px"}},[a("el-select",{attrs:{size:"small"},on:{change:function(t){e.queryCountryList()}},model:{value:e.createForm.cityid,callback:function(t){e.$set(e.createForm,"cityid",t)},expression:"createForm.cityid"}},e._l(e.cityList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"el-input el-input--small",staticStyle:{"margin-left":"10px"}},[a("el-select",{attrs:{size:"small"},model:{value:e.createForm.areaid,callback:function(t){e.$set(e.createForm,"areaid",t)},expression:"createForm.areaid"}},e._l(e.countryList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1)])]),e._v(" "),a("div",{staticClass:" flex  flex-align-center",staticStyle:{"margin-right":"10px","margin-top":"10px","line-height":"12px"}},[a("div",{staticClass:" flex  flex-align-center",staticStyle:{"margin-right":"10px","margin-top":"10px","line-height":"12px"}},[a("span",{staticStyle:{width:"130px","white-space":"nowrap"}},[e._v("收件地址：")]),e._v(" "),a("el-input",{staticStyle:{"margin-right":"10px"},attrs:{size:"small",placeholder:"请输入收件地址"},model:{value:e.createForm.consigneeAddress,callback:function(t){e.$set(e.createForm,"consigneeAddress",t)},expression:"createForm.consigneeAddress"}})],1)])]):e._e(),e._v(" "),a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","margin-bottom":"10px"}},e._l(t.list,function(t){return"consigneeAddress"!==t.value?a("div",{staticClass:" flex  flex-align-center",staticStyle:{"margin-right":"10px","margin-top":"10px","line-height":"12px"}},[a("span",{class:"memberName"===t.value||"memberPhone"===t.value||"diagnose"==t.model?"vaild_icon":"",staticStyle:{width:"130px","white-space":"nowrap"}},[e._v(e._s(t.title))]),e._v(" "),a("el-input",{staticStyle:{"margin-right":"10px"},attrs:{disabled:2==i,size:"small",placeholder:"请输入"+t.title.replace("：","")},model:{value:e.createForm[t.model],callback:function(i){e.$set(e.createForm,t.model,i)},expression:"createForm[items.model]"}})],1):e._e()}))])])}))],1),e._v(" "),a("el-row",{staticStyle:{padding:"20px 0"},attrs:{gutter:24}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticStyle:{position:"relative"}},[a("corpperlabel",{ref:"cropper",style:"DOC_HANDWORK"===e.pres_type||"BACK_HANDWORK"===e.pres_type?"visibility: hidden;":"",attrs:{preImageList:e.preImageList}}),e._v(" "),"DOC_HANDWORK"===e.pres_type||"BACK_HANDWORK"===e.pres_type?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.add_upload_loading,expression:"add_upload_loading"}],staticClass:"pre_update_upload",staticStyle:{"margin-bottom":"22px"}},[a("h4",[e._v("处方图片")]),e._v(" "),a("el-upload",{ref:"upload",attrs:{accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF",action:e.fileUploadUrl,"list-type":"picture-card","before-upload":e.beforeUpload,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"on-success":e.handleSuccess1,"file-list":e.fileList}},[a("i",{staticClass:"el-icon-plus"})])],1):e._e()],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.preDrugList,stripe:"",height:500}},[a("el-table-column",{attrs:{fixed:"left",prop:"drugName",label:"通用名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productName",label:"商品名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"partnerName",label:"供应商"}}),e._v(" "),a("el-table-column",{attrs:{prop:"packingUnit",label:"单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dosageforms",label:"剂型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specification",label:"药品规格"}}),e._v(" "),a("el-table-column",{attrs:{width:"180",prop:"manufacturer",label:"厂商"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usages",label:"用法"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dosage",label:"用量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"instructions",label:"使用说明"}}),e._v(" "),a("el-table-column",{attrs:{prop:"frequency",label:"频次"}}),e._v(" "),a("el-table-column",{attrs:{prop:"quantity",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"药品价格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shouldpay",label:"药品合计"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createDate",label:"提交时间"}})],1),e._v(" "),a("div",{staticStyle:{padding:"10px","font-size":"14.8px"}},[a("div",[e._v("治疗服务费："),a("span",{staticStyle:{color:"red"}},[e._v("￥"+e._s(e.prodetail.serviceMoney))])]),e._v(" "),a("div",[e._v("药品合计："),a("span",{staticStyle:{color:"red"}},[e._v("￥"+e._s(e.prodetail.presscriptionMoney))])]),e._v(" "),a("div",[e._v("合计："),a("span",{staticStyle:{color:"red"}},[e._v("￥"+e._s(e.prodetail.orderMoney))])])]),e._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"退回原因"},model:{value:e.auditingRemake,callback:function(t){e.auditingRemake=t},expression:"auditingRemake"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",padding:"10px"}},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.doSubmit()}}},[e._v("退回")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.checkPre()}}},[e._v("通过")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e._v(" "),a("el-dialog",{staticClass:"filter_box",attrs:{width:"70vw","close-on-click-modal":!1,title:"搜索","append-to-body":!0,visible:e.filter_model},on:{"update:visible":function(t){e.filter_model=t}}},[a("div",[a("div",{staticClass:"filter_select",staticStyle:{padding:"10px","text-align":"left"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{"min-width":"200px","max-width":"400px"},attrs:{placeholder:"请"+("doctor"===e.filter_type?"医生":"患者")+"输入姓名或手机号",size:"small"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}},[a("el-select",{staticClass:"filter_select",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.filter_type,callback:function(t){e.filter_type=t},expression:"filter_type"}},[a("el-option",{attrs:{label:"医生",value:"doctor",disabled:"DOC_HANDWORK"==e.pres_type}}),e._v(" "),a("el-option",{attrs:{label:"患者",value:"menber"}})],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){e.filtering()}},slot:"append"})],1)],1),e._v(" "),a("div",{directives:[{name:"bouncing",rawName:"v-bouncing",value:e.noMessage_loading,expression:"noMessage_loading"}],staticStyle:{height:"500px",overflow:"auto"}},[e.noMessage_model?a("div",{staticClass:"flex flex-pack-center  flex-align-center",staticStyle:{height:"100%"}},[a("i",{staticClass:"iconfont icon-shangxin",staticStyle:{"font-size":"90px"}}),e._v(" "),a("div",[a("div",[e._v("搜索不到任何患者")]),e._v(" "),a("div",{staticStyle:{color:"#8492a6","font-size":"13px"}},[e._v("试试输入准确的信息吧~")])])]):e._e(),e._v(" "),a("div",{staticClass:"flex flex-warp-justify"},e._l(e.resultList,function(t,r){return a("div",{staticClass:"flex doctorCard textLabel",on:{click:function(i){e.select_item(t)}}},[t.doctorId?a("img",{staticStyle:{height:"80px",width:"80px",margin:"5px 10px"},attrs:{src:i("qoG6")}}):e._e(),e._v(" "),t.memberId?a("img",{staticStyle:{height:"80px",width:"80px",margin:"5px 10px"},attrs:{src:i("gAzu")}}):e._e(),e._v(" "),a("div",{staticClass:"textLabel",staticStyle:{"line-height":"20px"}},[a("div",{staticClass:"textLabel"},[e._v(e._s(t.name))]),e._v(" "),a("div",[e._v(e._s(t.phone))]),e._v(" "),t.docterId?a("div",[a("div",{staticClass:"textLabel",staticStyle:{"text-align":"left"}},[e._v("医院："),a("span",{staticStyle:{color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.hospitalName))])]),e._v(" "),a("div",{staticClass:"textLabel",staticStyle:{"text-align":"left"}},[e._v("科室："),a("span",{staticStyle:{color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.docterDept))])])]):a("div",[a("div",{staticClass:"textLabel",staticStyle:{"text-align":"left"}},[a("span",[e._v(" 性别："),a("span",{staticStyle:{color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.sex?t.sex:"-"))])]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("  年龄："),a("span",{staticStyle:{color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.age?t.age:"-"))])])]),e._v(" "),a("div",{staticClass:"textLabel",staticStyle:{"text-align":"left"}},[e._v("身份证："),a("span",{staticStyle:{color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.idCard?t.idCard:"-"))])])])])])}))])])])],1)},staticRenderFns:[]};var _=i("VU/8")(m,u,!1,function(e){i("nA/R")},"data-v-64c8c446",null);t.default=_.exports}});
//# sourceMappingURL=15.ed29bbeee107e4b188c8.js.map