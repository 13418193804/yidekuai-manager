{"version":3,"sources":["webpack:///./src/components/system/role.vue?9277","webpack:///./src/components/system/role.vue?2544","webpack:///./src/components/system/role.vue"],"names":["role","_super","AddGoods","_this","apply","this","arguments","filterText","loading","roleForm","checkboxGroup6","model","modelType","primssRow","primssLoading","primssModel","defaultProps","children","label","roleList","keyword","options","departmentId","page","pageSize","total","isIndeterminate","checkAll","allCount","AuthorityList","tslib_es6","prototype","watchCount","newVal","oldVal","console","log","$refs","tree2","filter","filterNode","value","data","name","indexOf","handleDelete","index","row","userNum","$alert","$confirm","confirmButtonText","cancelButtonText","type","then","indexApi","roleId","res","$message","getRoleList","error","catch","message","handleCheckChange","checked","indeterminate","changeModel","a","Object","assign","showRolePrimss","roleGetPrimss","MenuButtonPermissionList","roleBindPrimss","permissionIdList","join","doSubmit","onPageChange","handleCheckAllChange","val","cityOptions","forEach","item","ButtonPermissionList","map","items","permissionId","concat","handleCheckedCitiesChange","length","checkedCount","getDepartment","unshift","alloCount","num","getPermission","mounted","vue_property_decorator_umd","vue_class_component_common_default","props","components","vue_esm","system_role","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","staticStyle","border-bottom","_v","margin","_s","padding-bottom","attrs","gutter","xs","sm","md","lg","xl","margin-top","change-on-select","callback","$$v","placeholder","clearable","min-width","icon","on","click","$event","width","min-height","border","stripe","fixed","prop","scopedSlots","_u","key","fn","scope","roleAvailable","size","$index","staticClass","span","layout","current-page","page-size","current-change","visible","center","title","close-on-click-modal","top","update:visible","change","_l","haveFlag","slot","label-width","max-width","$set","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"sMA2KqBA,EAArB,SAAAC,GANA,SAAAC,IAAA,IAAAC,EAAA,OAAAF,KAAAG,MAAAC,KAAAC,YAAAD,YAiBAF,EAAAI,WAAW,GACTJ,EAAAK,SAAQ,EAwCRL,EAAAM,YACFN,EAAAO,kBACEP,EAAAQ,OAAQ,EACRR,EAAAS,UAAY,MAwBZT,EAAAU,aAaAV,EAAAW,eAAgB,EAClBX,EAAAY,aAAc,EAiGbZ,EAAAa,cACOC,SAAU,WACVC,MAAO,QAEbf,EAAAgB,YACAhB,EAAAiB,QAAU,GAEVjB,EAAAkB,WACAlB,EAAAmB,aAAe,GAEfnB,EAAAoB,KAAO,EACPpB,EAAAqB,SAAW,GACXrB,EAAAsB,MAAQ,EAMRtB,EAAAuB,iBAAiB,EACnBvB,EAAAwB,UAAU,EA0ERxB,EAAAyB,SAAW,EAaXzB,EAAA0B,mBAoBF,OA5TsCC,EAAA,EAAA5B,EAAAD,GAEpCC,EAAA6B,UAAAC,WAAA,SAAWC,EAAQC,GACjBC,QAAQC,IAAI,SAAUH,EAAQ,SAAUC,GAC3B7B,KAAKgC,MAAMC,MACtBC,OAAON,IAEV/B,EAAA6B,UAAAS,WAAA,SAAWC,EAAOC,GACb,OAAKD,IACgC,IAA9BC,EAAKC,KAAKC,QAAQH,IAI/BvC,EAAA6B,UAAAc,aAAA,SAAaC,EAAOC,GAApB,IAAA5C,EAAAE,KAEC0C,EAAIC,QAAQ,EACb3C,KAAK4C,OAAO,cAKV5C,KAAK6C,SAAS,mBAAoB,MAChCC,kBAAmB,KACnBC,iBAAkB,KAClBC,KAAM,YAELC,KAAK,WACJnB,QAAQC,IAAIW,GAEZQ,EAAA,GAEIC,OAAQT,EAAIS,SAEbF,KAAK,SAAAG,GACAA,EAAa,SACftD,EAAKuD,SAAS,QACdvD,EAAKwD,gBAEDF,EAAa,SAAGtD,EAAK8C,OAAOQ,EAAa,SAC7CtB,QAAQyB,MAAM,eAKrBC,MAAM,WACL1D,EAAKuD,UACHL,KAAM,OACNS,QAAS,aAUjB5D,EAAA6B,UAAAgC,kBAAA,SAAkBrB,EAAMsB,EAASC,GAC3B9B,QAAQC,IAAIM,EAAMsB,EAASC,IAEjC/D,EAAA6B,UAAAmC,YAAA,SAAYb,EAAMN,GAMhB,GAFA1C,KAAKO,UAAYyC,EACjBhD,KAAKI,YACDsC,EAAK,CACP,IAAIoB,KACJC,OAAOC,OAAOF,EAAGpB,GACjB1C,KAAKI,SAAW0D,EAChB9D,KAAKI,SAAe,KAAIJ,KAAKI,SAAmB,SAChDJ,KAAKI,SAAsB,YAAIJ,KAAKI,SAA0B,gBAC9DJ,KAAKI,SAAkB,QAAIJ,KAAKI,SAAiB,OAGvDJ,KAAKM,OAAO,GAKVT,EAAA6B,UAAAuC,eAAA,SAAevB,GAEb1C,KAAKS,eAAc,EACnBT,KAAKwB,iBACL,IAAIsC,KACJC,OAAOC,OAAOF,EAAEpB,GAChB1C,KAAKQ,UAAYsD,EAChB9D,KAAKK,kBACNL,KAAKkE,cAAcxB,GACnB1C,KAAKU,aAAc,GAKrBb,EAAA6B,UAAAwC,cAAA,SAAcxB,GAAd,IAAA5C,EAAAE,KACFkD,EAAA,KACEC,OAAQT,EAAIS,SACZF,KAAK,SAAAG,GACCtD,EAAKW,eAAc,EACf2C,EAAa,QACbtD,EAAK0B,cAAgB4B,EAAIf,KAAK8B,0BAE5Bf,EAAa,SAAGtD,EAAK8C,OAAOQ,EAAa,SAC7CtB,QAAQyB,MAAM,cAoBxB1D,EAAA6B,UAAA0C,eAAA,eAAAtE,EAAAE,KACAA,KAAKS,eAAgB,EACrByC,EAAA,KACEC,OAAQnD,KAAKQ,UAAkB,OAChC6D,iBAAiBrE,KAAKK,eAAeiE,KAAK,OAEzCrB,KAAK,SAAAG,GACPtD,EAAKW,eAAgB,EAEnBqB,QAAQC,IAAI,OAAOqB,GACTA,EAAa,SACzBtD,EAAKuD,SAAS,QACdvD,EAAKY,aAAc,IAGL0C,EAAa,SAAGtD,EAAK8C,OAAOQ,EAAa,SAC7CtB,QAAQyB,MAAM,cAKtB1D,EAAA6B,UAAA6C,SAAA,eAAAzE,EAAAE,KACgC,KAA5BA,KAAKI,SAAe,MAAG,IAIY,KAAnCJ,KAAKI,SAAsB,aAAG,IAQV,OAAlBJ,KAAKO,UACP2C,EAAA,EAAsBlD,KAAKI,UAAU6C,KAAK,SAAAG,GACpCA,EAAa,SACftD,EAAKuD,SAAS,QACdvD,EAAKwD,cAEDxD,EAAKM,SAAiB,OAAKgD,EAAIf,KAAKc,OAExCrD,EAAKQ,OAAQ,IAET8C,EAAa,SAAGtD,EAAK8C,OAAOQ,EAAa,SAC7CtB,QAAQyB,MAAM,aAIlBL,EAAA,IAAyBlD,KAAKI,UAAU6C,KAAK,SAAAG,GACvCA,EAAa,SACftD,EAAKuD,SAAS,QACdvD,EAAKwD,cAGLxD,EAAKQ,OAAQ,IAET8C,EAAa,SAAGtD,EAAK8C,OAAOQ,EAAa,SAC7CtB,QAAQyB,MAAM,aA/BxBvD,KAAK4C,OAAO,WAJZ5C,KAAK4C,OAAO,YAyDV/C,EAAA6B,UAAA8C,aAAA,SAAatD,GACXlB,KAAKkB,KAAOA,EAAO,EACnBlB,KAAKsD,eAKRzD,EAAA6B,UAAA+C,qBAAA,SAAqBC,GACnB,IAAIC,KACC3E,KAAKwB,cAAcoD,QAAQ,SAAAC,GAC7B,IAAIf,EAAOe,EAAKC,qBAAqBC,IAAI,SAAAC,GACrC,OAAQA,EAAMC,eAGhBN,EAAgBA,EAAYO,OAAOpB,KAInC9D,KAAKK,eAAiBqE,EAAMC,KAC5B3E,KAAKqB,iBAAkB,GAG1BxB,EAAA6B,UAAAyD,0BAAA,SAA0B/C,GAG3B,IAAIgD,EAAQ,EACXpF,KAAKwB,cAAcoD,QAAQ,SAAAC,GACrBO,GAAUP,EAAKC,qBAAqBM,SAExCtD,QAAQC,IAAIqD,GACX,IAAIC,EAAejD,EAAMgD,OACzBpF,KAAKsB,SAAW+D,IAAgBD,EAChCpF,KAAKqB,gBAAkBgE,EAAe,GAAKA,EAAeD,GAGhEvF,EAAA6B,UAAA4B,YAAA,SAAYpB,GAAZ,IAAApC,EAAAE,UAAY,IAAAkC,MAAA,MACPA,IACDlC,KAAKkB,KAAO,GAEd,IAAID,EAAe,GACfjB,KAAKiB,aAAamE,OAAS,IAC7BnE,EAAejB,KAAKiB,aAAajB,KAAKiB,aAAamE,OAAS,IAE9DlC,EAAA,KAEInC,QAASf,KAAKe,QACdE,aAAcA,EACdC,KAAMlB,KAAKkB,KACXC,SAAUnB,KAAKmB,WAEhB8B,KAAK,SAAAG,GACJtD,EAAKK,SAAS,EACViD,EAAa,SACftD,EAAKgB,SAAWsC,EAAIf,KAAKvB,SACzBhB,EAAKsB,MAAQgC,EAAIf,KAAKnB,KAAKE,QAEvBgC,EAAa,SAAGtD,EAAK8C,OAAOQ,EAAa,SAC7CtB,QAAQyB,MAAM,cAItB1D,EAAA6B,UAAA4D,cAAA,eAAAxF,EAAAE,KACEkD,EAAA,OAA2BD,KAAK,SAAAG,GAC9BtB,QAAQC,IAAIqB,GACRA,EAAa,SACftD,EAAKkB,QAAUoC,EAAIf,KAAKzB,SAExBd,EAAKkB,QAAQuE,SACXtE,aAAc,GACdJ,MAAO,KACPyB,KAAM,KACNF,MAAO,KAETN,QAAQC,IAAI,QAASqB,EAAIf,QAErBe,EAAa,SAAGtD,EAAK8C,OAAOQ,EAAa,SAC7CtB,QAAQyB,MAAM,cAMpB1D,EAAA6B,UAAA8D,UAAA,eAAA1F,EAAAE,KACEkD,EAAA,IAAwBD,KAAK,SAAAG,GAC3BtB,QAAQC,IAAIqB,GACRA,EAAa,QACftD,EAAKyB,SAAW6B,EAAIf,KAAKoD,KAErBrC,EAAa,SAAGtD,EAAK8C,OAAOQ,EAAa,SAC7CtB,QAAQyB,MAAM,cAKpB1D,EAAA6B,UAAAgE,cAAA,eAAA5F,EAAAE,KACEkD,EAAA,QAA2BD,KAAK,SAAAG,GAC1BA,EAAa,QACftD,EAAK0B,cAAgB4B,EAAIf,KAAKb,eAE1B4B,EAAa,SAAGtD,EAAK8C,OAAOQ,EAAa,SAC7CtB,QAAQyB,MAAM,cAKpB1D,EAAA6B,UAAAiE,QAAA,WACE3F,KAAKG,SAAU,EACfH,KAAKwF,YACLxF,KAAKsD,cACLtD,KAAKsF,iBAtTP7D,EAAA,GADGsC,OAAA6B,EAAA,MAAA7B,CAAM,mJADUlE,EAAQ4B,EAAA,GAN5BoE,KACCC,SACAC,iBAImBlG,GAArB,CAAsCmG,EAAA,SCxKvBC,GADEC,OAFjB,WAA0B,IAAAC,EAAAnG,KAAaoG,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,aAAalE,KAAA,WAAAmE,QAAA,aAAArE,MAAA+D,EAAA,QAAAO,WAAA,cAAgFJ,EAAA,OAAYK,aAAaC,gBAAA,uBAAqCN,EAAA,MAAAH,EAAAU,GAAA,sBAAAV,EAAAU,GAAA,KAAAP,EAAA,OAA8DK,aAAaG,OAAA,YAAmBX,EAAAU,GAAA,cAAAV,EAAAY,GAAAZ,EAAA5E,UAAA,iCAAA4E,EAAAU,GAAA,KAAAP,EAAA,OAAmGK,aAAaK,iBAAA,UAAyBV,EAAA,UAAeW,OAAOC,OAAA,MAAaZ,EAAA,UAAeW,OAAOE,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,KAAoCjB,EAAA,eAAoBK,aAAaa,aAAA,QAAoBP,OAAQQ,mBAAA,GAAAzG,QAAAmF,EAAAnF,SAA4CV,OAAQ8B,MAAA+D,EAAA,aAAAuB,SAAA,SAAAC,GAAkDxB,EAAAlF,aAAA0G,GAAqBjB,WAAA,mBAA4B,GAAAP,EAAAU,GAAA,KAAAP,EAAA,UAA+BW,OAAOE,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,KAAoCjB,EAAA,YAAiBK,aAAaa,aAAA,QAAoBP,OAAQW,YAAA,UAAAC,UAAA,IAAuCvH,OAAQ8B,MAAA+D,EAAA,QAAAuB,SAAA,SAAAC,GAA6CxB,EAAApF,QAAA4G,GAAgBjB,WAAA,cAAuB,GAAAP,EAAAU,GAAA,KAAAP,EAAA,UAA+BK,aAAamB,YAAA,SAAoBb,OAAQE,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,KAAoCjB,EAAA,aAAkBK,aAAaa,aAAA,QAAoBP,OAAQjE,KAAA,UAAA+E,KAAA,kBAAyCC,IAAKC,MAAA,SAAAC,GAAyB/B,EAAA7C,aAAA,OAAwB6C,EAAAU,GAAA,YAAAV,EAAAU,GAAA,KAAAP,EAAA,UAA8CW,OAAOE,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,KAAoCjB,EAAA,aAAkBK,aAAaa,aAAA,QAAoBP,OAAQjE,KAAA,WAAiBgF,IAAKC,MAAA,SAAAC,GAAyB/B,EAAAtC,YAAA,WAAyBsC,EAAAU,GAAA,wBAAAV,EAAAU,GAAA,KAAAP,EAAA,YAA4DK,aAAawB,MAAA,OAAAC,aAAA,SAAoCnB,OAAQoB,OAAA,GAAAhG,KAAA8D,EAAArF,SAAAwH,OAAA,MAA6ChC,EAAA,mBAAwBW,OAAOsB,MAAA,OAAAC,KAAA,WAAA3H,MAAA,UAAiDsF,EAAAU,GAAA,KAAAP,EAAA,mBAAoCW,OAAOuB,KAAA,UAAA3H,MAAA,UAAiCsF,EAAAU,GAAA,KAAAP,EAAA,mBAAoCW,OAAOpG,MAAA,QAAe4H,YAAAtC,EAAAuC,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAvC,EAAA,UAAqBW,OAAOjE,KAAA6F,EAAAnG,IAAAoG,cAAA,oBAAkD3C,EAAAU,GAAA,oBAAAV,EAAAY,GAAA8B,EAAAnG,IAAAoG,cAAA,uBAAkF3C,EAAAU,GAAA,KAAAP,EAAA,mBAAoCW,OAAOuB,KAAA,kBAAA3H,MAAA,OAAAsH,MAAA,SAAuDhC,EAAAU,GAAA,KAAAP,EAAA,mBAAoCW,OAAOpG,MAAA,KAAA0H,MAAA,QAAAJ,MAAA,OAA2CM,YAAAtC,EAAAuC,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAvC,EAAA,aAAwBW,OAAO8B,KAAA,OAAA/F,KAAA,WAA+BgF,IAAKC,MAAA,SAAAC,GAAyB/B,EAAAlC,eAAA4E,EAAAnG,SAAgCyD,EAAAU,GAAA,UAAAV,EAAAU,GAAA,KAAAP,EAAA,aAA+CW,OAAO8B,KAAA,OAAA/F,KAAA,WAA+BgF,IAAKC,MAAA,SAAAC,GAAyB/B,EAAAtC,YAAA,OAAAgF,EAAAnG,SAAoCyD,EAAAU,GAAA,QAAAV,EAAAU,GAAA,KAAAP,EAAA,aAA6CW,OAAO8B,KAAA,OAAA/F,KAAA,QAA4BgF,IAAKC,MAAA,SAAAC,GAAyB/B,EAAA3D,aAAAqG,EAAAG,OAAAH,EAAAnG,SAA4CyD,EAAAU,GAAA,gBAAsB,GAAAV,EAAAU,GAAA,KAAAP,EAAA,UAA+B2C,YAAA,UAAAhC,OAA6BiC,KAAA,MAAW5C,EAAA,iBAAsBW,OAAOkC,OAAA,oBAAAC,eAAAjD,EAAAjF,KAAA,EAAAmI,YAAAlD,EAAAhF,SAAAC,MAAA+E,EAAA/E,OAAkG4G,IAAKsB,iBAAAnD,EAAA3B,iBAAmC,GAAA2B,EAAAU,GAAA,KAAAP,EAAA,aAAkCW,OAAOsC,QAAApD,EAAAzF,YAAAyH,MAAA,SAAAqB,OAAA,GAAAT,KAAA,OAAAU,MAAA,OAAAC,wBAAA,EAAAC,IAAA,QAA8H3B,IAAK4B,iBAAA,SAAA1B,GAAkC/B,EAAAzF,YAAAwH,MAAyB5B,EAAA,OAAYE,aAAalE,KAAA,WAAAmE,QAAA,aAAArE,MAAA+D,EAAA,cAAAO,WAAA,kBAA0FC,aAAeyB,aAAA,WAAsB9B,EAAA,OAAAA,EAAA,eAA8BW,OAAOrD,cAAAuC,EAAA9E,iBAAoC2G,IAAK6B,OAAA1D,EAAA1B,sBAAkCnE,OAAQ8B,MAAA+D,EAAA,SAAAuB,SAAA,SAAAC,GAA8CxB,EAAA7E,SAAAqG,GAAiBjB,WAAA,cAAwBP,EAAAU,GAAA,QAAAV,EAAAU,GAAA,KAAAV,EAAA2D,GAAA3D,EAAA,uBAAAtB,GAAuE,OAAAyB,EAAA,OAAAA,EAAA,MAA0BK,aAAaG,OAAA,WAAkBX,EAAAU,GAAAV,EAAAY,GAAAlC,EAAAvC,SAAA6D,EAAAU,GAAA,KAAAP,EAAA,qBAAkEW,OAAO8B,KAAA,SAAef,IAAK6B,OAAA1D,EAAAhB,2BAAuC7E,OAAQ8B,MAAA+D,EAAA,eAAAuB,SAAA,SAAAC,GAAoDxB,EAAA9F,eAAAsH,GAAuBjB,WAAA,oBAA8BP,EAAAU,GAAA,aAAAV,EAAA2D,GAAAjF,EAAA,8BAAAG,GAAyE,OAAAsB,EAAA,eAAyBW,OAAOpG,MAAAmE,EAAAC,aAAAtB,QAAAqB,EAAA+E,YAAqD5D,EAAAU,GAAAV,EAAAY,GAAA/B,EAAA1C,YAA+B,UAAU,KAAA6D,EAAAU,GAAA,KAAAP,EAAA,QAA+B2C,YAAA,gBAAAhC,OAAmC+C,KAAA,UAAgBA,KAAA,WAAe1D,EAAA,aAAkB0B,IAAIC,MAAA,SAAAC,GAAyB/B,EAAAzF,aAAA,MAA0ByF,EAAAU,GAAA,SAAAV,EAAAU,GAAA,KAAAP,EAAA,aAA8CW,OAAOjE,KAAA,WAAiBgF,IAAKC,MAAA9B,EAAA/B,kBAA4B+B,EAAAU,GAAA,eAAAV,EAAAU,GAAA,KAAAP,EAAA,aAAoDW,OAAOsC,QAAApD,EAAA7F,MAAA6H,MAAA,SAAAqB,OAAA,GAAAT,KAAA,OAAAU,MAAA,OAAAtD,EAAA5F,UAAA,cAAAmJ,wBAAA,EAAAC,IAAA,QAAsJ3B,IAAK4B,iBAAA,SAAA1B,GAAkC/B,EAAA7F,MAAA4H,MAAmB5B,EAAA,WAAgBW,OAAOgD,cAAA,WAAuB3D,EAAA,gBAAqBW,OAAOpG,MAAA,UAAgByF,EAAA,YAAiBK,aAAauD,YAAA,SAAoB5J,OAAQ8B,MAAA+D,EAAA/F,SAAA,KAAAsH,SAAA,SAAAC,GAAmDxB,EAAAgE,KAAAhE,EAAA/F,SAAA,OAAAuH,IAAoCjB,WAAA,oBAA6B,GAAAP,EAAAU,GAAA,KAAAP,EAAA,gBAAqCW,OAAOpG,MAAA,UAAgByF,EAAA,YAAiBK,aAAauD,YAAA,SAAoB5J,OAAQ8B,MAAA+D,EAAA/F,SAAA,YAAAsH,SAAA,SAAAC,GAA0DxB,EAAAgE,KAAAhE,EAAA/F,SAAA,cAAAuH,IAA2CjB,WAAA,2BAAoC,OAAAP,EAAAU,GAAA,KAAAP,EAAA,QAAiC2C,YAAA,gBAAAhC,OAAmC+C,KAAA,UAAgBA,KAAA,WAAe1D,EAAA,aAAkB0B,IAAIC,MAAA,SAAAC,GAAyB/B,EAAA7F,OAAA,MAAoB6F,EAAAU,GAAA,SAAAV,EAAAU,GAAA,KAAAP,EAAA,aAA8CW,OAAOjE,KAAA,WAAiBgF,IAAKC,MAAA9B,EAAA5B,YAAsB4B,EAAAU,GAAA,sBAEx5KuD,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE5K,EACAsG,GATF,EAVA,SAAAuE,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/21.901e79dd5dbaecf74580.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport Component from \"vue-class-component\";\r\nimport axios from \"axios\";\r\nimport * as indexApi from \"../../api/indexApi\";\r\nimport { Watch } from \"vue-property-decorator\";\r\n\r\n@Component({\r\n  props: {},\r\n  components: {\r\n    // categoryView,\r\n  }\r\n})\r\nexport default class AddGoods extends Vue {\r\n    @Watch(\"filterText\")\r\n  watchCount(newVal, oldVal) {\r\n    console.log(\"newVal\", newVal, \"oldVal\", oldVal);\r\n    let a: any = this.$refs.tree2;\r\n    a.filter(newVal);\r\n  }\r\n   filterNode(value, data) {\r\n        if (!value) return true;\r\n        return data.name.indexOf(value) !== -1;\r\n      }\r\nfilterText=\"\"\r\n  loading=false\r\n  handleDelete(index, row) {\r\n\r\nif(row.userNum>0){\r\n  this.$alert('不可删除有用户的职位');\r\n  return\r\n}\r\n\r\n\r\n    this.$confirm(\"此操作将删除该职位, 是否继续?\", \"提示\", {\r\n      confirmButtonText: \"确定\",\r\n      cancelButtonText: \"取消\",\r\n      type: \"warning\"\r\n    })\r\n      .then(() => {\r\n        console.log(row);\r\n\r\n        indexApi\r\n          .deleteRoleModel({\r\n            roleId: row.roleId\r\n          })\r\n          .then(res => {\r\n            if (res[\"retCode\"]) {\r\n              this.$message(\"删除成功\");\r\n              this.getRoleList();\r\n            } else {\r\n              if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n              console.error(\"数据查询错误\");\r\n            }\r\n          });\r\n        // role_id\r\n      })\r\n      .catch(() => {\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消删除\"\r\n        });\r\n      });\r\n  }\r\n\r\n  roleForm = {};\r\ncheckboxGroup6 = []\r\n  model = false;\r\n  modelType = \"add\";\r\n\r\n  handleCheckChange(data, checked, indeterminate) {\r\n        console.log(data, checked, indeterminate);\r\n      }\r\n  changeModel(type, row) {\r\n\r\n\r\n  \r\n    this.modelType = type;\r\n    this.roleForm = {};\r\n    if (row) {\r\n      let a = {};\r\n      Object.assign(a, row);\r\n      this.roleForm = a;\r\n      this.roleForm[\"role\"] = this.roleForm[\"roleName\"];\r\n      this.roleForm[\"description\"] = this.roleForm[\"roleDescription\"];\r\n      this.roleForm[\"role_id\"] = this.roleForm[\"roleId\"];\r\n    }\r\n\r\nthis.model =true\r\n  }\r\n\r\n  \r\n  primssRow = {}\r\n  showRolePrimss(row){\r\n\r\n    this.primssLoading=true\r\n    this.AuthorityList = []\r\n    let a = {}\r\n    Object.assign(a,row)\r\n    this.primssRow = a\r\n     this.checkboxGroup6 = []\r\n    this.roleGetPrimss(row);\r\n    this.primssModel = true;\r\n  }\r\n\r\n  primssLoading = false\r\nprimssModel = false\r\n  roleGetPrimss(row){\r\nindexApi.getRolePermission(\r\n {roleId: row.roleId}\r\n).then(res => {\r\n        this.primssLoading=false\r\n        if (res[\"retCode\"]) {\r\n            this.AuthorityList = res.data.MenuButtonPermissionList\r\n        } else {\r\n          if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n          console.error(\"数据查询错误\");\r\n        }\r\n  \r\n      });\r\n// indexApi.roleGetPrimss(\r\n//  {roleId: row.roleId}\r\n// ).then(res => {\r\n//         if (res[\"retCode\"]) {\r\n//           if(res.data.rolepermission.length>0){\r\n//             this.checkboxGroup6 = res.data.permissionIdList\r\n//           }\r\n//         } else {\r\n//           if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n//           console.error(\"数据查询错误\");\r\n//         }\r\n//         this.primssLoading=false\r\n//       });\r\n\r\n  }\r\n\r\nroleBindPrimss(){\r\nthis.primssLoading = true\r\nindexApi.roleBindPrimss(\r\n {roleId: this.primssRow['roleId'],\r\n permissionIdList:this.checkboxGroup6.join(',')\r\n }\r\n).then(res => {\r\nthis.primssLoading = false\r\n  \r\n  console.log('更新权限',res)\r\n        if (res[\"retCode\"]) {\r\nthis.$message('保存成功');\r\nthis.primssModel = false  \r\n\r\n} else {\r\n          if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n}\r\n\r\n  doSubmit() {\r\n  if((this.roleForm['role']||'')==''){\r\nthis.$alert('请输入职位名称')\r\nreturn\r\n  }\r\n  if((this.roleForm['description']||'')==''){\r\nthis.$alert('请输入职位描述')\r\n    return\r\n  }\r\n\r\n\r\n\r\n\r\n    if (this.modelType == \"add\") {\r\n      indexApi.addRoleModel(this.roleForm).then(res => {\r\n        if (res[\"retCode\"]) {\r\n          this.$message(\"添加成功\");\r\n          this.getRoleList();\r\n              // 更新权限问题\r\n              this.roleForm['roleId'] =  res.data.roleId\r\n\r\n          this.model = false;\r\n        } else {\r\n          if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n    } else {\r\n      indexApi.updateRoleModel(this.roleForm).then(res => {\r\n        if (res[\"retCode\"]) {\r\n          this.$message(\"保存成功\");\r\n          this.getRoleList();\r\n              // 更新权限问题\r\n\r\n          this.model = false;\r\n        } else {\r\n          if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n    \r\n    }\r\n\r\n  \r\n\r\n  }\r\n defaultProps=  {\r\n        children: \"children\",\r\n        label: \"name\"\r\n      }\r\n  roleList = [];\r\n  keyword = \"\";\r\n\r\n  options = [];\r\n  departmentId = \"\";\r\n\r\n  page = 0;\r\n  pageSize = 10;\r\n  total = 0;\r\n  onPageChange(page) {\r\n    this.page = page - 1;\r\n    this.getRoleList();\r\n  }\r\n\r\n  isIndeterminate= true\r\ncheckAll =false\r\n handleCheckAllChange(val) {\r\n   let cityOptions = []\r\n        this.AuthorityList.forEach(item=>{\r\n      let a =    item.ButtonPermissionList.map(items=>{\r\n          return  items.permissionId\r\n          })\r\n    \r\n        cityOptions =   cityOptions.concat(a)\r\n       \r\n        })\r\n\r\n        this.checkboxGroup6 = val ? cityOptions : [];\r\n        this.isIndeterminate = false;\r\n      }\r\n\r\n     handleCheckedCitiesChange(value) {\r\n    \r\n    \r\n    let length =0\r\n     this.AuthorityList.forEach(item=>{\r\n           length += item.ButtonPermissionList.length \r\n       })\r\n       console.log(length)\r\n        let checkedCount = value.length;\r\n        this.checkAll = checkedCount ===length;\r\n        this.isIndeterminate = checkedCount > 0 && checkedCount < length;\r\n      }\r\n\r\n  getRoleList(filter=null) {\r\n    if(filter){\r\n      this.page = 0\r\n    }\r\n    let departmentId = \"\";\r\n    if (this.departmentId.length > 0) {\r\n      departmentId = this.departmentId[this.departmentId.length - 1];\r\n    }\r\n    indexApi\r\n      .queryRoleList({\r\n        keyword: this.keyword,\r\n        departmentId: departmentId,\r\n        page: this.page,\r\n        pageSize: this.pageSize\r\n      })\r\n      .then(res => {\r\n        this.loading= false\r\n        if (res[\"retCode\"]) {\r\n          this.roleList = res.data.roleList;\r\n          this.total = res.data.page.total\r\n        } else {\r\n          if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n  }\r\n  getDepartment() {\r\n    indexApi.getDepartment({}).then(res => {\r\n      console.log(res);\r\n      if (res[\"retCode\"]) {\r\n        this.options = res.data.children;\r\n\r\n        this.options.unshift({\r\n          departmentId: \"\",\r\n          label: \"全部\",\r\n          name: \"全部\",\r\n          value: \"\"\r\n        });\r\n        console.log(\"获取部门树\", res.data);\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n  allCount = 0;\r\n\r\n  alloCount() {\r\n    indexApi.allCountrole().then(res => {\r\n      console.log(res);\r\n      if (res[\"retCode\"]) {\r\n        this.allCount = res.data.num;\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n  AuthorityList = []\r\n  getPermission() {\r\n    indexApi.getPermission({}).then(res => {\r\n      if (res[\"retCode\"]) {\r\n        this.AuthorityList = res.data.AuthorityList;\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n\r\n  mounted() {\r\n    this.loading = true\r\n    this.alloCount();\r\n    this.getRoleList();\r\n    this.getDepartment();\r\n\r\n    // this.getPermission();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/system/role.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"bouncing\",rawName:\"v-bouncing\",value:(_vm.loading),expression:\"loading\"}]},[_c('div',{staticStyle:{\"border-bottom\":\"1px #e5e5e5 solid\"}},[_c('h3',[_vm._v(\"职位管理\\n          \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_vm._v(\"\\n平台职位数量统计：\"+_vm._s(_vm.allCount)+\"             \\n            \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"padding-bottom\":\"20px\"}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"xs\":8,\"sm\":8,\"md\":5,\"lg\":5,\"xl\":4}},[_c('el-cascader',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"change-on-select\":\"\",\"options\":_vm.options},model:{value:(_vm.departmentId),callback:function ($$v) {_vm.departmentId=$$v},expression:\"departmentId\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":8,\"sm\":8,\"md\":5,\"lg\":5,\"xl\":5}},[_c('el-input',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"placeholder\":\"请输入职位名称\",\"clearable\":\"\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"min-width\":\"100px\"},attrs:{\"xs\":5,\"sm\":5,\"md\":2,\"lg\":2,\"xl\":2}},[_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){_vm.getRoleList(true)}}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":5,\"sm\":5,\"md\":2,\"lg\":2,\"xl\":2}},[_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.changeModel('add')}}},[_vm._v(\"添加职位\")])],1)],1)],1)]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\",\"min-height\":\"500px\"},attrs:{\"border\":\"\",\"data\":_vm.roleList,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"fixed\":\"left\",\"prop\":\"roleName\",\"label\":\"职位名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userNum\",\"label\":\"用户数量\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"职位状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.roleAvailable ?'success':'info'}},[_vm._v(\"\\n               \"+_vm._s(scope.row.roleAvailable ?\"启用中\":\"已停用\"))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleDescription\",\"label\":\"职位描述\",\"width\":\"500\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.showRolePrimss(scope.row)}}},[_vm._v(\"角色权限\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.changeModel('edit',scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"current-page\":_vm.page+1,\"page-size\":_vm.pageSize,\"total\":_vm.total},on:{\"current-change\":_vm.onPageChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.primssModel,\"width\":\"1050px\",\"center\":\"\",\"size\":\"tiny\",\"title\":\"角色权限\",\"close-on-click-modal\":false,\"top\":\"40px\"},on:{\"update:visible\":function($event){_vm.primssModel=$event}}},[_c('div',{directives:[{name:\"bouncing\",rawName:\"v-bouncing\",value:(_vm.primssLoading),expression:\"primssLoading\"}],staticStyle:{\"min-height\":\"500px\"}},[_c('div',[_c('el-checkbox',{attrs:{\"indeterminate\":_vm.isIndeterminate},on:{\"change\":_vm.handleCheckAllChange},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\"全选\")]),_vm._v(\" \"),_vm._l((_vm.AuthorityList),function(item){return _c('div',[_c('h3',{staticStyle:{\"margin\":\"5px 0\"}},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('el-checkbox-group',{attrs:{\"size\":\"small\"},on:{\"change\":_vm.handleCheckedCitiesChange},model:{value:(_vm.checkboxGroup6),callback:function ($$v) {_vm.checkboxGroup6=$$v},expression:\"checkboxGroup6\"}},[_vm._v(\">\\n      \"),_vm._l((item.ButtonPermissionList),function(items){return _c('el-checkbox',{attrs:{\"label\":items.permissionId,\"checked\":items.haveFlag}},[_vm._v(_vm._s(items.name))])})],2)],1)})],2)]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.primssModel = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.roleBindPrimss}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.model,\"width\":\"1050px\",\"center\":\"\",\"size\":\"tiny\",\"title\":_vm.modelType =='add' ?'添加职位':'编辑职位',\"close-on-click-modal\":false,\"top\":\"40px\"},on:{\"update:visible\":function($event){_vm.model=$event}}},[_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"职位名称\"}},[_c('el-input',{staticStyle:{\"max-width\":\"400px\"},model:{value:(_vm.roleForm.role),callback:function ($$v) {_vm.$set(_vm.roleForm, \"role\", $$v)},expression:\"roleForm.role\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"职位描述\"}},[_c('el-input',{staticStyle:{\"max-width\":\"400px\"},model:{value:(_vm.roleForm.description),callback:function ($$v) {_vm.$set(_vm.roleForm, \"description\", $$v)},expression:\"roleForm.description\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.model = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doSubmit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2292cd9b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/system/role.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2292cd9b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./role.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role.vue\"\nimport __vue_script__ from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2292cd9b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./role.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2292cd9b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/system/role.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}