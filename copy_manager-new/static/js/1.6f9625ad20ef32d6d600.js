webpackJsonp([1],{"91bU":function(e,t){},"gf/8":function(e,t,o){"use strict";var r=o("TToO"),a=o("7+uW"),l=o("c+8m"),n=o.n(l),i=o("k9eN"),s=o("H5nj"),d=o("CMXh"),c=o("vkqf"),p=o("EOM2"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkconsultingFee=function(e,t,o){if(!t)return o(new Error("咨询费用不能为空"));setTimeout(function(){t>=0?o():o(new Error("请输入正确的咨询费"))},1e3)},t.rules={phone:[{required:!0,message:"请填写登录帐号",trigger:"blur"}],name:[{required:!0,message:"请填写医生姓名",trigger:"blur"}],hospitalId:[{required:!0,message:"请选择医院",trigger:"change"}],departmentId:[{required:!0,message:"请选择科室",trigger:"change"}],doctorGood:[{required:!0,message:"请填写主治",trigger:"blur"}],doctorTitle:[{required:!0,message:"请选择职称",trigger:"blur"}],consultingFee:[{required:!0,validator:t.checkconsultingFee,trigger:"blur"}]},t.dialogFormVisible1=!1,t.update="",t.formLabelAlign1={name:"",phone:"",hospitalId:"",hospitalName:"",hospitalDepartment:"",departmentId:[],departmentName:"",doctorBrief:"",doctorGood:"",consultingFee:"",prescriptionNum:"",orderNum:"",orderMoney:"",doctorPatientNum:"",remark:"",doctorTitle:""},t.doctortitlelist=[{id:"ASSISTANT_PHYSICIAN",name:"助理医师"},{id:"ATTENDING_DOCTOR",name:"主治医师"},{id:"DEPUTY_CHIEF_PHYSICIAN",name:"副主任医师"},{id:"CHIEF_PHYSICIAN",name:"主任医师"}],t.loading=!1,t}return r.b(t,e),t.prototype.updatedoctorrules=function(e){var t=this;this.$refs.formLabelAlign1.validate(function(e){return e?("update"==t.update&&(console.log(111111),t.updatedoctor()),"notPassUpdate"==t.update&&(console.log(222222),t.notPassupdatedoctor()),!0):(console.log("error submit!!"),!1)})},t.prototype.updatedoctor=function(){var e=this,t=this.hospitallist.filter(function(t){return t.hospitalId==e.formLabelAlign1.hospitalId});console.log(t),this.loading=!0;var o=[];o.hospitalCode=t[0].hospitalCode,o.hospitalName=t[0].hospitalName;var r=[],a=this.formLabelAlign1.departmentId.length-1;r.departmentName=this.formLabelAlign1.departmentName,r.departmentId=this.formLabelAlign1.departmentId[a],i.q(this.formLabelAlign1,o,r).then(function(t){e.loading=!1,t.retCode?(e.dialogFormVisible1=!1,e.$emit("getdoctorList"),e.$message("保存成功")):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.notPassupdatedoctor=function(){var e=this,t=this.hospitallist.filter(function(t){return t.hospitalId==e.formLabelAlign1.hospitalId});this.loading=!0;var o=[];console.log("1111",t),o.hospitalCode=t[0].hospitalCode,o.hospitalName=t[0].hospitalName;var r=[],a=this.formLabelAlign1.departmentId.length-1;r.departmentName=this.formLabelAlign1.departmentName,r.departmentId=this.formLabelAlign1.departmentId[a],i.i(this.formLabelAlign1,o,r).then(function(t){e.loading=!1,t.retCode?(e.dialogFormVisible1=!1,e.$emit("getDoctorExamineList"),e.$message("修改成功")):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.handleEdit=function(e,t,o){this.update=o,this.dialogFormVisible1=!0,this.formLabelAlign1.doctorId=t.doctorId,this.formLabelAlign1.phone=t.phone,this.formLabelAlign1.hospitalId=t.hspCode,this.formLabelAlign1.name=t.name,this.formLabelAlign1.doctorGood=t.doctorGood,this.formLabelAlign1.doctorBrief=t.doctorBrief,this.formLabelAlign1.remark=t.remark,this.formLabelAlign1.consultingFee=t.consultingFee,this.formLabelAlign1.doctorTitle=t.doctorTitle,0==t.consultingFee&&(this.formLabelAlign1.consultingFee="0"),this.finddeptree(t.departmentId)},t.prototype.finddeptree=function(e){var t=this;s.c(e).then(function(o){if(o.retCode){var r=[];o.data.forEach(function(e,t){e[0]&&r.push(e[0].departmentId)}),r.push(e),t.formLabelAlign1.departmentId=r,console.log("departmentId",t.formLabelAlign1.departmentId),t.changeupdatedepartmentId()}else t.$alert(o.message),console.error("数据查询错误")})},t.prototype.changeupdatedepartmentId=function(){var e=this;if(console.log("22222222",this.formLabelAlign1.departmentId),this.formLabelAlign1.departmentId.length>0){var t=this.formLabelAlign1.departmentId.length-1;i.f(this.formLabelAlign1.departmentId[t]).then(function(t){console.log(t),t.retCode?(e.formLabelAlign1.departmentName=t.data[0].departmentName,console.log("departmentName",e.formLabelAlign1.departmentName)):(e.$alert(t.message),console.error("数据查询错误"))})}},t.prototype.updatecancel=function(e){this.$refs[e].resetFields(),this.dialogFormVisible1=!1,this.formLabelAlign1={name:"",phone:"",hospitalId:"",hospitalName:"",hospitalDepartment:"",departmentId:[],departmentName:"",doctorBrief:"",doctorGood:"",consultingFee:"",prescriptionNum:"",orderNum:"",orderMoney:"",doctorPatientNum:"",remark:"",doctorTitle:""}},t.prototype.mounted=function(){},r.a([Object(p.Prop)({required:!1}),r.c("design:type",Object)],t.prototype,"tableTree",void 0),r.a([Object(p.Prop)({required:!1}),r.c("design:type",Object)],t.prototype,"hospitallist",void 0),t=r.a([n()({props:{},components:{prescriptioninfo:d.a,remindertable:c.a}})],t)}(a.default),u={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[o("el-dialog",{attrs:{title:"医生编辑",visible:e.dialogFormVisible1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible1=t},close:function(t){e.updatecancel("formLabelAlign1")}}},[o("el-form",{ref:"formLabelAlign1",attrs:{"label-width":"120px",model:e.formLabelAlign1,rules:e.rules}},[o("el-form-item",{attrs:{label:"医生姓名",prop:"name"}},[o("el-input",{model:{value:e.formLabelAlign1.name,callback:function(t){e.$set(e.formLabelAlign1,"name",t)},expression:"formLabelAlign1.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"所属医院",prop:"hospitalId"}},[o("el-select",{attrs:{placeholder:"请选择医院",clearable:""},model:{value:e.formLabelAlign1.hospitalId,callback:function(t){e.$set(e.formLabelAlign1,"hospitalId",t)},expression:"formLabelAlign1.hospitalId"}},e._l(e.hospitallist,function(e){return o("el-option",{key:e.hospitalId,attrs:{label:e.hospitalName,value:e.hospitalId}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"所在科室",prop:"departmentId"}},[o("el-cascader",{attrs:{options:e.tableTree,"change-on-select":"",clearable:""},on:{change:function(t){e.changeupdatedepartmentId()}},model:{value:e.formLabelAlign1.departmentId,callback:function(t){e.$set(e.formLabelAlign1,"departmentId",t)},expression:"formLabelAlign1.departmentId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"职称",prop:"doctorTitle"}},[o("el-select",{attrs:{placeholder:"请选择职称",clearable:""},model:{value:e.formLabelAlign1.doctorTitle,callback:function(t){e.$set(e.formLabelAlign1,"doctorTitle",t)},expression:"formLabelAlign1.doctorTitle"}},e._l(e.doctortitlelist,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"医生擅长",prop:"doctorGood"}},[o("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.formLabelAlign1.doctorGood,callback:function(t){e.$set(e.formLabelAlign1,"doctorGood",t)},expression:"formLabelAlign1.doctorGood"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"医生简介"}},[o("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.formLabelAlign1.doctorBrief,callback:function(t){e.$set(e.formLabelAlign1,"doctorBrief",t)},expression:"formLabelAlign1.doctorBrief"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"咨询价格",prop:"consultingFee"}},[o("el-input",{model:{value:e.formLabelAlign1.consultingFee,callback:function(t){e.$set(e.formLabelAlign1,"consultingFee",t)},expression:"formLabelAlign1.consultingFee"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"医生备注"}},[o("el-input",{model:{value:e.formLabelAlign1.remark,callback:function(t){e.$set(e.formLabelAlign1,"remark",t)},expression:"formLabelAlign1.remark"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.updatecancel("formLabelAlign1")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary",disabled:e.loading},on:{click:function(t){e.updatedoctorrules("formLabelAlign1")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var g=o("VU/8")(m,u,!1,function(e){o("uMTo")},"data-v-7affd5e8",null);t.a=g.exports},k9eN:function(e,t,o){"use strict";o.d(t,"k",function(){return l}),o.d(t,"o",function(){return n}),o.d(t,"p",function(){return i}),o.d(t,"n",function(){return s}),o.d(t,"a",function(){return d}),o.d(t,"q",function(){return c}),o.d(t,"g",function(){return p}),o.d(t,"l",function(){return m}),o.d(t,"m",function(){return u}),o.d(t,"f",function(){return g}),o.d(t,"d",function(){return f}),o.d(t,"c",function(){return h}),o.d(t,"b",function(){return b}),o.d(t,"e",function(){return v}),o.d(t,"j",function(){return _}),o.d(t,"h",function(){return I}),o.d(t,"i",function(){return L});var r=o("FL7F"),a=o("P/kE"),l=(r.a,function(e,t,o,r){var l={token:sessionStorage.getItem("token"),userid:sessionStorage.getItem("userId"),keyword:o,doctorEnums:r,page:e,pageSize:t};return a.n("/api/doctor/findDoctorList",l).then(function(e){return e})}),n=function(e){var t={token:sessionStorage.getItem("token"),userid:sessionStorage.getItem("userId"),doctorid:e,doctorEnums:"STOP",source:"weixin"};return a.n("/api/doctor/setmemberstatus",t).then(function(e){return e})},i=function(e){var t={token:sessionStorage.getItem("token"),userid:sessionStorage.getItem("userId"),doctorid:e,doctorEnums:"USE",source:"weixin"};return a.n("/api/doctor/setmemberstatus",t).then(function(e){return e})},s=function(e){var t={token:sessionStorage.getItem("token"),userid:sessionStorage.getItem("userId"),doctorid:e,doctorEnums:"HIDE",source:"weixin"};return a.n("/api/doctor/setmemberstatus",t).then(function(e){return e})},d=function(e,t,o){var r={token:sessionStorage.getItem("token"),userid:sessionStorage.getItem("userId"),name:e.name,phone:e.phone,hospitalname:t.hospitalName,hospitalcode:t.hospitalCode,derpartname:o.departmentName,derpartnameid:o.departmentId,doctorbrief:e.doctorBrief,doctorgood:e.doctorGood,consultingfee:e.consultingFee,doctorEnums:"USE",remark:e.remark,doctortitle:e.doctorTitle};return a.n("/api/doctor/adddoctorother",r).then(function(e){return e})},c=function(e,t,o){var r={token:sessionStorage.getItem("token"),userid:sessionStorage.getItem("userId"),doctorid:e.doctorId,name:e.name,phone:e.phone,hospitalname:t.hospitalName,hospitalcode:t.hospitalCode,derpartname:o.departmentName,derpartnameid:o.departmentId,doctorbrief:e.doctorBrief,doctorgood:e.doctorGood,consultingfee:e.consultingFee,remark:e.remark,doctortitle:e.doctorTitle};return a.n("/api/doctor/updatedoctor",r).then(function(e){return e})},p=function(){var e={token:sessionStorage.getItem("token"),userid:sessionStorage.getItem("userId")};return a.n("/api/doctor/getdoctorcount",e).then(function(e){return e})},m=function(){var e={token:sessionStorage.getItem("token")};return a.n("/hospital/findHospital",e).then(function(e){return e})},u=function(){var e={token:sessionStorage.getItem("token"),userid:sessionStorage.getItem("userId")};return a.n("/department/querytree",e).then(function(e){return e})},g=function(e){var t={token:sessionStorage.getItem("token"),userid:sessionStorage.getItem("userId"),departmentid:e};return a.n("/department/find",t).then(function(e){return e})},f=function(e,t,o){var r={token:sessionStorage.getItem("token"),doctorid:e,page:t,pageSize:o};return a.n("/api/doctor/doctoFindMyMemberr",r).then(function(e){return e})},h=function(e){var t={token:sessionStorage.getItem("token")};return Object.assign(t,e),a.n("/api/doctor/docAndMemFindPre",t).then(function(e){return e})},b=function(e){var t={token:sessionStorage.getItem("token")};return Object.assign(t,e),a.n("/api/doctor/docAndMemFindOrd",t).then(function(e){return e})},v=function(e,t){var o={token:sessionStorage.getItem("token"),page:e,pagesize:t};return a.n("/api/doctor/findDoctorExamineList",o).then(function(e){return e})},_=function(e){var t={token:sessionStorage.getItem("token"),doctorId:e};return a.n("/api/doctor/passDoctor",t).then(function(e){return e})},I=function(e){var t={token:sessionStorage.getItem("token"),doctorId:e};return a.n("/api/doctor/notPassDoctor",t).then(function(e){return e})},L=function(e,t,o){var r={doctorid:e.doctorId,name:e.name,phone:e.phone,hospitalname:t.hospitalName,hospitalcode:t.hospitalCode,derpartname:o.departmentName,derpartnameid:o.departmentId,doctorbrief:e.doctorBrief,doctorgood:e.doctorGood,consultingfee:e.consultingFee,remark:e.remark,doctortitle:e.doctorTitle};return a.n("/api/doctor/adviserPerfectDoc",r).then(function(e){return e})}},pHWE:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("TToO"),a=o("7+uW"),l=o("c+8m"),n=o.n(l),i=o("k9eN"),s=o("H5nj"),d=o("CMXh"),c=o("vkqf"),p=o("gf/8"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeName2="first",t.keyname="",t.dialogFormVisible=!1,t.dialogFormVisible1=!1,t.dialogFormVisible5=!1,t.applyVisible=!1,t.doctorlist=[],t.state="",t.statelist=[{name:"可用",id:"USE"},{name:"停用",id:"STOP"}],t.formLabelAlign={name:"",phone:"",hospitalId:"",hospitalName:"",hospitalDepartment:"",departmentId:[],departmentName:"",doctorBrief:"",doctorGood:"",consultingFee:"",prescriptionNum:"",orderNum:"",orderMoney:"",doctorPatientNum:"",remark:"",resource:"",adviserPhone:"",adviserName:"",doctorTitle:""},t.formLabelAlign1={name:"",phone:"",hospitalId:"",hospitalName:"",hospitalDepartment:"",departmentId:[],departmentName:"",doctorBrief:"",doctorGood:"",consultingFee:"",prescriptionNum:"",orderNum:"",orderMoney:"",doctorPatientNum:"",remark:""},t.checkconsultingFee=function(e,t,o){if(!t)return o(new Error("咨询费用不能为空"));setTimeout(function(){t>=0?o():o(new Error("请输入正确的咨询费"))},1e3)},t.rules={phone:[{required:!0,message:"请填写登录帐号",trigger:"blur"}],name:[{required:!0,message:"请填写医生姓名",trigger:"blur"}],hospitalId:[{required:!0,message:"请选择医院",trigger:"change"}],departmentId:[{required:!0,message:"请选择科室",trigger:"change"}],doctorGood:[{required:!0,message:"请填写主治",trigger:"blur"}],doctorTitle:[{required:!0,message:"请选择职称",trigger:"blur"}],consultingFee:[{required:!0,validator:t.checkconsultingFee,trigger:"blur"}]},t.formLabelAlign5={qrcode:"",hospitalName:"",name:""},t.doctortitlelist=[{id:"ASSISTANT_PHYSICIAN",name:"助理医师"},{id:"ATTENDING_DOCTOR",name:"主治医师"},{id:"DEPUTY_CHIEF_PHYSICIAN",name:"副主任医师"},{id:"CHIEF_PHYSICIAN",name:"主任医师"}],t.update="",t.pageSize=10,t.total=0,t.currentPage=0,t.loading=!1,t.doctotcount=0,t.hospitallist=[],t.tableTree=[],t.relationshipshow=!1,t.relationshipdoctorId="",t.relationshiplist=[],t.relationshippage=0,t.relationshippageSize=10,t.relationshiptotal=0,t.preModel=!1,t.prescriptionList=[],t.prepage=0,t.prepageSize=10,t.pretotal=0,t.prescriptionItem={},t.prescriptioninfoObj={},t.orderModel=!1,t.patientOrderList=[],t.orderpage=0,t.orderageSize=10,t.ordertotal=0,t.orderItem={},t.doctorExamineList=[],t.examinecurrentPage=0,t.examinepageSize=10,t.examinepagetotal=0,t.detailsshow=!1,t.formLabeldetails={},t}return r.b(t,e),t.prototype.handleClick=function(e,t){console.log(e,t),0==e.index?this.getDoctorExamineList():(this.getdoctorList(),this.getdoctorcount())},t.prototype.doSubmitStatus=function(e,t){"USE"==t.doctorStatus&&this.handleSTOP(e,t),"STOP"==t.doctorStatus&&this.handleUSE(e,t)},t.prototype.handleEdit=function(e,t,o){this.$refs.updatedoctor.handleEdit(e,t,o)},t.prototype.finddeptree=function(e){var t=this;s.c(e).then(function(o){if(o.retCode){var r=[];o.data.forEach(function(e,t){e[0]&&r.push(e[0].departmentId)}),r.push(e),t.formLabelAlign1.departmentId=r,console.log("departmentId",t.formLabelAlign1.departmentId),t.changeupdatedepartmentId()}else t.$alert(o.message),console.error("数据查询错误")})},t.prototype.handlegenerate=function(e,t){this.dialogFormVisible5=!0,this.formLabelAlign5=t},t.prototype.updatedoctorrules=function(e){var t=this;this.$refs.formLabelAlign1.validate(function(e){return e?("update"==t.update&&t.updatedoctor(),"notPassUpdate"==t.update&&t.notPassupdatedoctor(),!0):(console.log("error submit!!"),!1)})},t.prototype.updatedoctor=function(){var e=this,t=this.hospitallist.filter(function(t){return t.hospitalId==e.formLabelAlign1.hospitalId});this.loading=!0;var o=[];o.hospitalCode=this.formLabelAlign1.hospitalId,o.hospitalName=t[0].hospitalName;var r=[],a=this.formLabelAlign1.departmentId.length-1;r.departmentName=this.formLabelAlign1.departmentName,r.departmentId=this.formLabelAlign1.departmentId[a],i.q(this.formLabelAlign1,o,r).then(function(t){e.loading=!1,t.retCode?(e.dialogFormVisible1=!1,e.getdoctorList(),e.$message("保存成功")):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.onPageChange=function(e){this.currentPage=e-1,this.getdoctorList()},t.prototype.clearcurrentPage=function(){this.total=0,this.currentPage=0,this.getdoctorList()},t.prototype.addcancel=function(e){this.$refs[e].resetFields(),this.dialogFormVisible=!1,this.formLabelAlign={name:"",phone:"",hospitalId:"",hospitalName:"",hospitalDepartment:"",departmentId:[],departmentName:"",doctorBrief:"",doctorGood:"",consultingFee:"",prescriptionNum:"",orderNum:"",orderMoney:"",doctorPatientNum:"",remark:"",resource:"",adviserPhone:"",adviserName:"",doctorTitle:""}},t.prototype.updatecancel=function(e){this.$refs[e].resetFields(),this.dialogFormVisible1=!1,this.formLabelAlign1={name:"",phone:"",hospitalId:"",hospitalName:"",hospitalDepartment:"",departmentId:[],departmentName:"",doctorBrief:"",doctorGood:"",consultingFee:"",prescriptionNum:"",orderNum:"",orderMoney:"",doctorPatientNum:"",remark:""}},t.prototype.getdoctorList=function(){var e=this;this.loading=!0,i.k(this.currentPage,this.pageSize,this.keyname,this.state).then(function(t){e.loading=!1,t.retCode?(e.doctorlist=t.data.list,e.total=t.data.page.total):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.handleSTOP=function(e,t){var o=this;this.$confirm("是否停用该医生?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.o(t.doctorId).then(function(e){e.retCode?(o.getdoctorList(),o.$message({type:"success",message:"停用成功!"})):(e.islogin||o.$alert(e.message),console.error("数据查询错误"))})}).catch(function(){o.$message({type:"info",message:"已取消停用"})})},t.prototype.handleUSE=function(e,t){var o=this;this.$confirm("是否启用该医生?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.p(t.doctorId).then(function(e){e.retCode?(o.getdoctorList(),o.$message({type:"success",message:"启用成功!"})):(e.islogin||o.$alert(e.message),console.error("数据查询错误"))})}).catch(function(){o.$message({type:"info",message:"已取消启用"})})},t.prototype.handleHIDE=function(e,t){var o=this;this.$confirm("是否隐藏该医生?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.n(t.doctorId).then(function(e){e.retCode?(o.getdoctorList(),o.$message({type:"success",message:"隐藏成功!"})):(e.islogin||o.$alert(e.message),console.error("数据查询错误"))})}).catch(function(){o.$message({type:"info",message:"已取消隐藏"})})},t.prototype.adddoctorrules=function(e){var t=this;this.$refs.formLabelAlign.validate(function(e){return e?(t.adddoctor(),!0):(console.log("error submit!!"),!1)})},t.prototype.adddoctor=function(){var e=this,t=this.hospitallist.filter(function(t){return t.hospitalCode==e.formLabelAlign.hospitalId});if(0!=t.length){this.loading=!0;var o=[];o.hospitalCode=this.formLabelAlign.hospitalId,o.hospitalName=t[0].hospitalName;var r=[],a=this.formLabelAlign.departmentId.length-1;r.departmentName=this.formLabelAlign.departmentName,r.departmentId=this.formLabelAlign.departmentId[a],i.a(this.formLabelAlign,o,r).then(function(t){e.loading=!1,t.retCode?(e.dialogFormVisible=!1,e.formLabelAlign={name:"",phone:"",hospitalName:"",hospitalId:"",hospitalDepartment:"",departmentId:[],departmentName:"",doctorBrief:"",doctorGood:"",consultingFee:"",prescriptionNum:"",orderNum:"",orderMoney:"",doctorPatientNum:"",remark:"",resource:"",adviserPhone:"",adviserName:"",doctorTitle:""},e.getdoctorList(),e.getdoctorcount(),e.$message("添加成功")):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})}else this.$alert("请选择所属医院")},t.prototype.getdoctorcount=function(){var e=this;i.g().then(function(t){t.retCode?e.doctotcount=t.data.count:(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.gethospitalList=function(){var e=this;i.l().then(function(t){t.retCode?e.hospitallist=t.data.hosipitalList:(e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.getdepartmenttree=function(){var e=this;i.m().then(function(t){console.log(t),t.retCode?(e.tableTree=t.data.children,console.log("获取科室树",t.data)):(e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.changedepartmentId=function(){var e=this;if(this.formLabelAlign.departmentId.length>0){var t=this.formLabelAlign.departmentId.length-1;i.f(this.formLabelAlign.departmentId[t]).then(function(t){console.log(t),t.retCode?e.formLabelAlign.departmentName=t.data[0].departmentName:(e.$alert(t.message),console.error("数据查询错误"))})}},t.prototype.changeupdatedepartmentId=function(){var e=this;if(console.log("22222222",this.formLabelAlign1.departmentId),this.formLabelAlign1.departmentId.length>0){var t=this.formLabelAlign1.departmentId.length-1;i.f(this.formLabelAlign1.departmentId[t]).then(function(t){console.log(t),t.retCode?(e.formLabelAlign1.departmentName=t.data[0].departmentName,console.log("departmentName",e.formLabelAlign1.departmentName)):(e.$alert(t.message),console.error("数据查询错误"))})}},t.prototype.lookpatient=function(e,t){this.relationshipdoctorId=t.doctorId,this.relationshipshow=!0,this.getrelationshiplist()},t.prototype.getrelationshiplist=function(){var e=this,t=this.relationshippage,o=this.relationshippageSize;i.d(this.relationshipdoctorId,t,o).then(function(t){t.retCode?(console.log("relationshiplist",t),e.relationshiplist=t.data.members,e.relationshiptotal=t.data.page.total,console.log("relationshiplist11111",e.relationshiplist)):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.onrelationshipPageChange=function(e){this.relationshippage=e-1,this.getrelationshiplist()},t.prototype.onprePageChange=function(e){this.prepage=e-1,this.getPrescription()},t.prototype.changePreModel=function(e,t){this.prescriptionItem=t,this.preModel=!0,this.getPrescription()},t.prototype.getPrescription=function(){var e=this;i.c({doctorid:this.relationshipdoctorId,memberid:this.prescriptionItem.memberId,page:this.prepage,pageSize:this.prepageSize}).then(function(t){t.retCode?(console.log("prescriptionList",t),e.prescriptionList=t.data.prescriptionList,console.log("prescriptionList111111",e.prescriptionList),e.pretotal=t.data.page.total):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.getprescriptioninfo=function(e,t){this.prescriptioninfoObj=t,this.$refs.prescriptioninfo.getInfo()},t.prototype.onorderPageChange=function(e){this.orderpage=e-1,this.getOrderList()},t.prototype.changeOrderModel=function(e,t){this.orderModel=!0,this.orderItem=t,this.getOrderList()},t.prototype.getOrderList=function(){var e=this;i.b({doctorid:this.relationshipdoctorId,memberid:this.orderItem.memberId,page:this.prepage,pageSize:this.prepageSize}).then(function(t){t.retCode?(e.patientOrderList=t.data.prescriptionList,e.ordertotal=t.data.page.total,console.log("patientOrderList",e.patientOrderList)):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.handleStatus=function(e){switch(e){case"NOT_TRANSLATED_PRESCRIPTION":return"未转方";case"ALREADY_TRANSLATED_PRESCRIPTION":return"已转方";case"FAIL_TRANSLATED_PRESCRIPTION":return"转方失败";case"REJECT_TRANSLATED_PRESCRIPTION":return"已驳回开方";case"ALREADY_AUDIT_PRESCRIPTION":return"已审方";case"FAIL_AUDIT_PRESCRIPTION":return"审方失败";case"REJECT_AUDIT_PRESCRIPTION":return"已驳回转方";default:return""}},t.prototype.getapplyVisible=function(){this.applyVisible=!0,this.getDoctorExamineList()},t.prototype.onexaminePageChange=function(e){this.examinecurrentPage=e-1,this.getDoctorExamineList()},t.prototype.getDoctorExamineList=function(){var e=this;this.loading=!0,i.e(this.examinecurrentPage,this.examinepageSize).then(function(t){t.retCode?(e.doctorExamineList=t.data.doctorExamines,e.examinepagetotal=t.data.page.total,e.loading=!1):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.notPassupdatedoctor=function(){var e=this,t=this.hospitallist.filter(function(t){return t.hospitalId==e.formLabelAlign1.hospitalId});this.loading=!0;var o=[];o.hospitalCode=this.formLabelAlign1.hospitalId,o.hospitalName=t[0].hospitalName;var r=[],a=this.formLabelAlign1.departmentId.length-1;r.departmentName=this.formLabelAlign1.departmentName,r.departmentId=this.formLabelAlign1.departmentId[a],i.i(this.formLabelAlign1,o,r).then(function(t){e.loading=!1,t.retCode?(e.dialogFormVisible1=!1,e.getDoctorExamineList(),e.$message("修改成功")):(t.islogin||e.$alert(t.message),console.error("数据查询错误"))})},t.prototype.handlepassDoctor=function(e,t){var o=this;this.$confirm("是否让该医生通过?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.j(t.doctorId).then(function(e){e.retCode?(o.getDoctorExamineList(),o.$message({type:"success",message:"成功通过!"})):(e.islogin||o.$alert(e.message),console.error("数据查询错误"))})}).catch(function(){o.$message({type:"info",message:"已取消通过"})})},t.prototype.handlenotPassDoctor=function(e,t){var o=this;this.$confirm("是否让该医生不通过?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.h(t.doctorId).then(function(e){e.retCode?(o.getDoctorExamineList(),o.$message({type:"success",message:"成功不通过!"})):(e.islogin||o.$alert(e.message),console.error("数据查询错误"))})}).catch(function(){o.$message({type:"info",message:"已取消不通过"})})},t.prototype.detailsdoctor=function(e,t){this.detailsshow=!0,this.formLabeldetails=t},t.prototype.mounted=function(){this.getdoctorList(),this.getdoctorcount(),this.gethospitalList(),this.getdepartmenttree(),this.getDoctorExamineList()},t=r.a([n()({props:{},components:{prescriptioninfo:d.a,remindertable:c.a,updatedoctor:p.a}})],t)}(a.default),u={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[o("div",{staticStyle:{"border-bottom":"1px #e5e5e5 solid"}},[o("h3",[e._v("医生管理")]),e._v(" "),o("div",{staticStyle:{"padding-bottom":"20px"}},[e._v("平台医生数量统计："+e._s(e.doctotcount)+"个")]),e._v(" "),o("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName2,callback:function(t){e.activeName2=t},expression:"activeName2"}},[o("el-tab-pane",{attrs:{label:"申请列表",name:"first"}},[o("el-table",{staticStyle:{width:"100%","min-height":"500px"},attrs:{border:"",data:e.doctorExamineList,stripe:""}},[o("el-table-column",{attrs:{prop:"name",label:"医生姓名",fixed:""}}),e._v(" "),o("el-table-column",{attrs:{prop:"hospitalName",label:"所属医院",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"phone",label:"账号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"doctorStatus",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["UNANDITED"==t.row.doctorStatus?o("el-tag",{attrs:{type:"success"}},[e._v("待审核")]):e._e(),e._v(" "),"AUDIT_NOT_PASS"==t.row.doctorStatus?o("el-tag",{attrs:{type:"danger"}},[e._v("未通过")]):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"hospitalDepartment",label:"所在科室"}}),e._v(" "),o("el-table-column",{attrs:{prop:"doctorGood",label:"医生擅长",width:"120","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{prop:"doctorBrief",label:"医生简介",width:"120","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{prop:"consultingFee",label:"咨询价格"}}),e._v(" "),o("el-table-column",{attrs:{prop:"doctorTitle",label:"职称"},scopedSlots:e._u([{key:"default",fn:function(t){return["ASSISTANT_PHYSICIAN"==t.row.doctorTitle?o("span",[e._v("助理医师")]):e._e(),e._v(" "),"ATTENDING_DOCTOR"==t.row.doctorTitle?o("span",[e._v("主治医师")]):e._e(),e._v(" "),"DEPUTY_CHIEF_PHYSICIAN"==t.row.doctorTitle?o("span",[e._v("副主任医师")]):e._e(),e._v(" "),"CHIEF_PHYSICIAN"==t.row.doctorTitle?o("span",[e._v("主任医师")]):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作",fixed:"right",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"info"},on:{click:function(o){e.detailsdoctor(t.$index,t.row)}}},[e._v("查看详情")]),e._v(" "),"UNANDITED"==t.row.doctorStatus?o("el-button",{attrs:{type:"primary"},on:{click:function(o){e.handlepassDoctor(t.$index,t.row)}}},[e._v("通过")]):e._e(),e._v(" "),"UNANDITED"==t.row.doctorStatus?o("el-button",{attrs:{type:"danger"},on:{click:function(o){e.handlenotPassDoctor(t.$index,t.row)}}},[e._v("不通过")]):e._e(),e._v(" "),"AUDIT_NOT_PASS"==t.row.doctorStatus?o("el-button",{on:{click:function(o){e.handleEdit(t.$index,t.row,"notPassUpdate")}}},[e._v("修改")]):e._e(),e._v(" "),"AUDIT_NOT_PASS"==t.row.doctorStatus?o("el-button",{attrs:{type:"primary"},on:{click:function(o){e.handlepassDoctor(t.$index,t.row)}}},[e._v("再通过")]):e._e()]}}])})],1),e._v(" "),o("el-col",{staticClass:"toolbar",attrs:{span:24}},[o("el-pagination",{attrs:{"current-page":e.examinecurrentPage+1,layout:"prev, pager, next","page-size":e.examinepageSize,total:e.examinepagetotal},on:{"current-change":e.onexaminePageChange}})],1)],1),e._v(" "),o("el-tab-pane",{attrs:{label:"医生列表",name:"second"}},[o("div",{staticClass:"flex flex-pack-justify",staticStyle:{"margin-top":"20px"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("新增医生")])],1),e._v(" "),o("div",{staticStyle:{"padding-bottom":"20px"}},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{xs:8,sm:8,md:5,lg:5,xl:5}},[o("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入医院/科室/姓名/手机号码",clearable:""},model:{value:e.keyname,callback:function(t){e.keyname=t},expression:"keyname"}})],1),e._v(" "),o("el-col",{attrs:{xs:8,sm:8,md:5,lg:5,xl:5}},[o("el-select",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"状态查询",clearable:""},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},e._l(e.statelist,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),o("el-col",{attrs:{xs:5,sm:5,md:2,lg:2,xl:2}},[o("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.clearcurrentPage()}}},[e._v("查询")])],1)],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.doctorlist,stripe:""}},[o("el-table-column",{attrs:{prop:"name",label:"医生姓名",fixed:""}}),e._v(" "),o("el-table-column",{attrs:{prop:"hospitalName",label:"所属医院",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"phone",label:"账号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"hospitalDepartment",label:"所在科室"}}),e._v(" "),o("el-table-column",{attrs:{prop:"doctorGood",label:"医生擅长",width:"180","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{prop:"doctorBrief",label:"医生简介",width:"180","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{prop:"consultingFee",label:"咨询价格"}}),e._v(" "),o("el-table-column",{attrs:{prop:"prescriptionNum",label:"医生处方数量"}}),e._v(" "),o("el-table-column",{attrs:{prop:"orderNum",label:"医生订单数量"}}),e._v(" "),o("el-table-column",{attrs:{prop:"orderMoney",label:"医生订单金额"}}),e._v(" "),o("el-table-column",{attrs:{prop:"doctorPatientNum",label:"医生患者数量"}}),e._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),o("el-table-column",{attrs:{prop:"doctorTitle",label:"职称"},scopedSlots:e._u([{key:"default",fn:function(t){return["ASSISTANT_PHYSICIAN"==t.row.doctorTitle?o("span",[e._v("助理医师")]):e._e(),e._v(" "),"ATTENDING_DOCTOR"==t.row.doctorTitle?o("span",[e._v("主治医师")]):e._e(),e._v(" "),"DEPUTY_CHIEF_PHYSICIAN"==t.row.doctorTitle?o("span",[e._v("副主任医师")]):e._e(),e._v(" "),"CHIEF_PHYSICIAN"==t.row.doctorTitle?o("span",[e._v("主任医师")]):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"adviserName",label:"顾问名字"}}),e._v(" "),o("el-table-column",{attrs:{prop:"adviserPhone",label:"顾问手机"}}),e._v(" "),o("el-table-column",{attrs:{prop:"resource",label:"来源"},scopedSlots:e._u([{key:"default",fn:function(t){return["H5"==t.row.resource?o("span",[e._v("医生注册")]):e._e(),e._v(" "),"yjkexport"==t.row.resource?o("span",[e._v("后台")]):e._e(),e._v(" "),"other"==t.row.resource?o("span",[e._v("其他")]):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"doctorStatus",label:"使用状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["DINI"==t.row.doctorStatus?o("el-tag",{attrs:{type:"primary"}},[e._v("测试")]):e._e(),e._v(" "),"USE"==t.row.doctorStatus?o("el-tag",{attrs:{type:"success"}},[e._v("可用")]):e._e(),e._v(" "),"STOP"==t.row.doctorStatus?o("el-tag",{attrs:{type:"danger"}},[e._v("停用")]):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作",fixed:"right",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(o){e.handlegenerate(t.$index,t.row)}}},[e._v("生成二维码")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(o){e.lookpatient(t.$index,t.row)}}},[e._v("查看该医生的患者")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(o){e.handleEdit(t.$index,t.row,"update")}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(o){e.doSubmitStatus(t.$index,t.row)}}},[e._v(e._s("USE"==t.row.doctorStatus?"停用":"")+e._s("STOP"==t.row.doctorStatus?"启用":""))])]}}])})],1),e._v(" "),o("el-col",{staticClass:"toolbar",attrs:{span:24}},[o("el-pagination",{attrs:{"current-page":e.page+1,layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.onPageChange}})],1)],1)],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"增加医生",visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t},close:function(t){e.addcancel("formLabelAlign")}}},[o("el-form",{ref:"formLabelAlign",attrs:{"label-width":"120px",model:e.formLabelAlign,rules:e.rules}},[o("el-form-item",{attrs:{label:"登录帐号",prop:"phone"}},[o("el-input",{model:{value:e.formLabelAlign.phone,callback:function(t){e.$set(e.formLabelAlign,"phone",t)},expression:"formLabelAlign.phone"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"医生姓名",prop:"name"}},[o("el-input",{model:{value:e.formLabelAlign.name,callback:function(t){e.$set(e.formLabelAlign,"name",t)},expression:"formLabelAlign.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"所属医院",prop:"hospitalId"}},[o("el-select",{attrs:{placeholder:"请选择医院",clearable:""},model:{value:e.formLabelAlign.hospitalId,callback:function(t){e.$set(e.formLabelAlign,"hospitalId",t)},expression:"formLabelAlign.hospitalId"}},e._l(e.hospitallist,function(e){return o("el-option",{key:e.hospitalId,attrs:{label:e.hospitalName,value:e.hospitalId}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"所在科室",prop:"departmentId"}},[o("el-cascader",{attrs:{options:e.tableTree,"change-on-select":"",clearable:""},on:{change:function(t){e.changedepartmentId()}},model:{value:e.formLabelAlign.departmentId,callback:function(t){e.$set(e.formLabelAlign,"departmentId",t)},expression:"formLabelAlign.departmentId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"职称",prop:"doctorTitle"}},[o("el-select",{attrs:{placeholder:"请选择职称",clearable:""},model:{value:e.formLabelAlign.doctorTitle,callback:function(t){e.$set(e.formLabelAlign,"doctorTitle",t)},expression:"formLabelAlign.doctorTitle"}},e._l(e.doctortitlelist,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"医生主治",prop:"doctorGood"}},[o("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.formLabelAlign.doctorGood,callback:function(t){e.$set(e.formLabelAlign,"doctorGood",t)},expression:"formLabelAlign.doctorGood"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"医生简介"}},[o("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.formLabelAlign.doctorBrief,callback:function(t){e.$set(e.formLabelAlign,"doctorBrief",t)},expression:"formLabelAlign.doctorBrief"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"咨询价格",prop:"consultingFee"}},[o("el-input",{model:{value:e.formLabelAlign.consultingFee,callback:function(t){e.$set(e.formLabelAlign,"consultingFee",t)},expression:"formLabelAlign.consultingFee"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"医生备注"}},[o("el-input",{model:{value:e.formLabelAlign.remark,callback:function(t){e.$set(e.formLabelAlign,"remark",t)},expression:"formLabelAlign.remark"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.addcancel("formLabelAlign")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary",disabled:e.loading},on:{click:function(t){e.adddoctorrules("formLabelAlign")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"医生二维码",visible:e.dialogFormVisible5,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible5=t}}},[o("div",{staticStyle:{display:"flex","justify-content":"center","flex-direction":"column","align-items":"center"}},[o("div",[o("img",{staticStyle:{width:"200px",height:"200px"},attrs:{src:e.formLabelAlign5.qrcode}})]),e._v(" "),o("div",[e._v(e._s(e.formLabelAlign5.hospitalName)+":"+e._s(e.formLabelAlign5.name))])])]),e._v(" "),o("el-dialog",{attrs:{title:"医生编辑",visible:e.dialogFormVisible1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible1=t},close:function(t){e.updatecancel("formLabelAlign1")}}},[o("el-form",{ref:"formLabelAlign1",attrs:{"label-width":"120px",model:e.formLabelAlign1,rules:e.rules}},[o("el-form-item",{attrs:{label:"医生姓名",prop:"name"}},[o("el-input",{model:{value:e.formLabelAlign1.name,callback:function(t){e.$set(e.formLabelAlign1,"name",t)},expression:"formLabelAlign1.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"所属医院",prop:"hospitalId"}},[o("el-select",{attrs:{placeholder:"请选择医院",clearable:""},model:{value:e.formLabelAlign1.hospitalId,callback:function(t){e.$set(e.formLabelAlign1,"hospitalId",t)},expression:"formLabelAlign1.hospitalId"}},e._l(e.hospitallist,function(e){return o("el-option",{key:e.hospitalId,attrs:{label:e.hospitalName,value:e.hospitalId}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"所在科室",prop:"departmentId"}},[o("el-cascader",{attrs:{options:e.tableTree,"change-on-select":"",clearable:""},on:{change:function(t){e.changeupdatedepartmentId()}},model:{value:e.formLabelAlign1.departmentId,callback:function(t){e.$set(e.formLabelAlign1,"departmentId",t)},expression:"formLabelAlign1.departmentId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"医生主治",prop:"doctorGood"}},[o("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.formLabelAlign1.doctorGood,callback:function(t){e.$set(e.formLabelAlign1,"doctorGood",t)},expression:"formLabelAlign1.doctorGood"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"医生简介"}},[o("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.formLabelAlign1.doctorBrief,callback:function(t){e.$set(e.formLabelAlign1,"doctorBrief",t)},expression:"formLabelAlign1.doctorBrief"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"咨询价格",prop:"consultingFee"}},[o("el-input",{model:{value:e.formLabelAlign1.consultingFee,callback:function(t){e.$set(e.formLabelAlign1,"consultingFee",t)},expression:"formLabelAlign1.consultingFee"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"医生备注"}},[o("el-input",{model:{value:e.formLabelAlign1.remark,callback:function(t){e.$set(e.formLabelAlign1,"remark",t)},expression:"formLabelAlign1.remark"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.updatecancel("formLabelAlign1")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary",disabled:e.loading},on:{click:function(t){e.updatedoctorrules("formLabelAlign1")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{attrs:{visible:e.relationshipshow,width:"1050px",center:"",size:"tiny",title:"该医生的患者","close-on-click-modal":!1,top:"40px"},on:{"update:visible":function(t){e.relationshipshow=t}}},[o("el-table",{staticStyle:{width:"100%","min-height":"500px"},attrs:{border:"",data:e.relationshiplist,stripe:""}},[o("el-table-column",{attrs:{prop:"name",label:"患者姓名",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"phone",label:"患者电话",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"sex",label:"患者性别",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"age",label:"患者年龄",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"idCard",label:"患者身份证"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作",fixed:"right",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(o){e.changePreModel(t.$index,t.row)}}},[e._v("查看处方")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(o){e.changeOrderModel(t.$index,t.row)}}},[e._v("查看订单")])]}}])})],1),e._v(" "),o("el-col",{staticClass:"toolbar",attrs:{span:24}},[o("el-pagination",{attrs:{"current-page":e.relationshippage+1,layout:"prev, pager, next","page-size":e.relationshippageSize,total:e.relationshiptotal},on:{"current-change":e.onrelationshipPageChange}})],1)],1),e._v(" "),o("el-dialog",{attrs:{width:"70vw","close-on-click-modal":!1,visible:e.detailsshow},on:{"update:visible":function(t){e.detailsshow=t}}},[o("div",{staticStyle:{border:"1px #e5e5e5 solid"}},[o("h3",{staticStyle:{"text-align":"center"}},[e._v("医生详情")]),e._v(" "),o("el-form",{attrs:{"label-width":"100px",inline:!0}},[o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"医生姓名："}},[e._v("\n                            "+e._s(e.formLabeldetails.name)+"\n                            ")])],1),e._v(" "),o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"帐号："}},[e._v("\n                            "+e._s(e.formLabeldetails.phone)+"\n                            ")])],1),e._v(" "),o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"所属医院："}},[e._v("\n                            "+e._s(e.formLabeldetails.hospitalName)+"\n                            ")])],1),e._v(" "),o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"所在科室："}},[e._v("\n                            "+e._s(e.formLabeldetails.hospitalDepartment)+"\n                            ")])],1),e._v(" "),o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"医生擅长："}},[e._v("\n                            "+e._s(e.formLabeldetails.doctorGood)+"\n                            ")])],1),e._v(" "),o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"医生简介："}},[e._v("\n                            "+e._s(e.formLabeldetails.doctorBrief)+"\n                            ")])],1),e._v(" "),o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"咨询价格："}},[e._v("\n                            "+e._s(e.formLabeldetails.consultingFee)+"\n                            ")])],1),e._v(" "),o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"备注："}},[e._v("\n                            "+e._s(e.formLabeldetails.remark)+"\n                            ")])],1),e._v(" "),o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"状态："}},["UNANDITED"==e.formLabeldetails.doctorStatus?o("el-tag",{attrs:{type:"success"}},[e._v("待审核")]):e._e(),e._v(" "),"AUDIT_NOT_PASS"==e.formLabeldetails.doctorStatus?o("el-tag",{attrs:{type:"danger"}},[e._v("未通过")]):e._e()],1)],1),e._v(" "),o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"职称："}},["ASSISTANT_PHYSICIAN"==e.formLabeldetails.doctorTitle?o("span",[e._v("助理医师")]):e._e(),e._v(" "),"ATTENDING_DOCTOR"==e.formLabeldetails.doctorTitle?o("span",[e._v("主治医师")]):e._e(),e._v(" "),"DEPUTY_CHIEF_PHYSICIAN"==e.formLabeldetails.doctorTitle?o("span",[e._v("副主任医师")]):e._e(),e._v(" "),"CHIEF_PHYSICIAN"==e.formLabeldetails.doctorTitle?o("span",[e._v("主任医师")]):e._e()])],1),e._v(" "),o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"身份证号："}},[e._v("\n                            "+e._s(e.formLabeldetails.idCard)+"\n                            ")])],1),e._v(" "),o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"医师资格证号："}},[e._v("\n                            "+e._s(e.formLabeldetails.pharmacistCertificateNum)+"\n                            ")])],1),e._v(" "),o("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[o("el-form-item",{attrs:{label:"执业药师资格证号："}},[e._v("\n                            "+e._s(e.formLabeldetails.qualificationCertificateNum)+"\n                            ")])],1)],1),e._v(" "),e.formLabeldetails.idCardFront?o("img",{staticStyle:{width:"200px",height:"200px"},attrs:{src:e.formLabeldetails.idCardFront}}):e._e(),e._v(" "),e.formLabeldetails.idCardBack?o("img",{staticStyle:{width:"200px",height:"200px"},attrs:{src:e.formLabeldetails.idCardBack}}):e._e(),e._v(" "),e.formLabeldetails.pharmacistCertificateFront?o("img",{staticStyle:{width:"200px",height:"200px"},attrs:{src:e.formLabeldetails.pharmacistCertificateFront}}):e._e(),e._v(" "),e.formLabeldetails.qualificationCertificateFront?o("img",{staticStyle:{width:"200px",height:"200px"},attrs:{src:e.formLabeldetails.qualificationCertificateFront}}):e._e()],1)],1)]),e._v(" "),o("el-dialog",{attrs:{visible:e.preModel,width:"1050px",center:"",size:"tiny",title:"患者处方","close-on-click-modal":!1,top:"40px"},on:{"update:visible":function(t){e.preModel=t}}},[o("el-table",{staticStyle:{width:"100%","min-height":"500px"},attrs:{border:"",data:e.prescriptionList,stripe:""}},[o("el-table-column",{attrs:{label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      "+e._s(e.handleStatus(t.row.presState))+"\n      ")]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"createDate",label:"开方时间",width:"170"}}),e._v(" "),o("el-table-column",{attrs:{prop:"docterName",label:"开方医生",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"doctorMobile",label:"开方医生手机号",width:"170"}}),e._v(" "),o("el-table-column",{attrs:{prop:"hospitalName",label:"医院",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"docterDept",label:"科室",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"memberName",label:"患者姓名",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"patientSex",label:"患者性别",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"memberAge",label:"患者年龄"}}),e._v(" "),o("el-table-column",{attrs:{prop:"memberPhone",label:"患者手机号",width:"170"}}),e._v(" "),o("el-table-column",{attrs:{prop:"consigneeAddress",label:"患者地址"}}),e._v(" "),o("el-table-column",{attrs:{prop:"patientRemake",label:"医生给患者备注",width:"170"}}),e._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"医生给转方备注",width:"170"}}),e._v(" "),o("el-table-column",{attrs:{prop:"transDocName",label:"转方医生"}}),e._v(" "),o("el-table-column",{attrs:{prop:"transDate",label:"转方时间",width:"170"}}),e._v(" "),o("el-table-column",{attrs:{prop:"transRemark",label:"转方备注",width:"220"}}),e._v(" "),o("el-table-column",{attrs:{prop:"auditingName",label:"审方医生"}}),e._v(" "),o("el-table-column",{attrs:{prop:"auditingDate",label:"审方时间",width:"170"}}),e._v(" "),o("el-table-column",{attrs:{prop:"presId",label:"处方编号",width:"210"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(o){e.getprescriptioninfo(t.$index,t.row)}}},[e._v("处方详情")])]}}])})],1),e._v(" "),o("el-col",{staticClass:"toolbar",attrs:{span:24}},[o("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.prepage+1,"page-size":e.prepageSize,total:e.pretotal},on:{"current-change":e.onprePageChange}})],1)],1),e._v(" "),o("prescriptioninfo",{ref:"prescriptioninfo",attrs:{row:e.prescriptioninfoObj}}),e._v(" "),o("el-dialog",{attrs:{visible:e.orderModel,width:"1050px",center:"",size:"tiny",title:"患者订单","close-on-click-modal":!1,top:"40px"},on:{"update:visible":function(t){e.orderModel=t}}},[o("remindertable",{ref:"remindertable",attrs:{orderList:e.patientOrderList,pagetype:"patient"},on:{getOrderList:e.getOrderList}}),e._v(" "),o("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.orderpage+1,"page-size":e.orderageSize,total:e.ordertotal},on:{"current-change":e.onorderPageChange}})],1),e._v(" "),o("updatedoctor",{ref:"updatedoctor",attrs:{tableTree:e.tableTree,hospitallist:e.hospitallist},on:{getdoctorList:e.getdoctorList,getDoctorExamineList:e.getDoctorExamineList}})],1)},staticRenderFns:[]};var g=o("VU/8")(m,u,!1,function(e){o("91bU")},"data-v-2873f743",null);t.default=g.exports},uMTo:function(e,t){}});
//# sourceMappingURL=1.6f9625ad20ef32d6d600.js.map