{"version":3,"sources":["webpack:///./src/components/system/role.vue?9277","webpack:///./src/components/system/role.vue?7d52","webpack:///./src/components/system/role.vue"],"names":["_super","AddGoods","_this","apply","this","arguments","filterText","loading","roleForm","checkboxGroup6","model","modelType","primssRow","primssLoading","primssModel","defaultProps","children","label","roleList","keyword","options","departmentId","page","pageSize","total","allCount","AuthorityList","tslib_es6","prototype","watchCount","newVal","oldVal","console","log","$refs","tree2","filter","filterNode","value","data","name","indexOf","handleDelete","index","row","userNum","$alert","$confirm","confirmButtonText","cancelButtonText","type","then","indexApi","roleId","res","$message","getRoleList","error","catch","message","handleCheckChange","checked","indeterminate","changeModel","a","Object","assign","showRolePrimss","roleGetPrimss","rolepermission","length","permissionIdList","roleBindPrimss","join","doSubmit","onPageChange","getDepartment","unshift","alloCount","num","getPermission","mounted","vue_property_decorator_umd","vue_class_component_common_default","props","components","vue_esm","system_role","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","staticStyle","border-bottom","_v","margin","_s","padding-bottom","attrs","gutter","xs","sm","md","lg","xl","margin-top","change-on-select","callback","$$v","placeholder","clearable","min-width","icon","on","click","$event","width","min-height","border","stripe","fixed","prop","scopedSlots","_u","key","fn","scope","roleAvailable","size","$index","staticClass","span","layout","current-page","page-size","current-change","visible","center","title","close-on-click-modal","top","update:visible","margin-bottom","ref","node-key","default-expand-all","expand-on-click-node","filter-node-method","check-change","node","font-size","position","right","permissionId","slot","label-width","max-width","$set","staticRenderFns","Component","__webpack_require__","normalizeComponent","role","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.09b5ac69fa9449424e1d.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport Component from \"vue-class-component\";\r\nimport axios from \"axios\";\r\nimport * as indexApi from \"../../api/indexApi\";\r\nimport { Watch } from \"vue-property-decorator\";\r\n\r\n@Component({\r\n  props: {},\r\n  components: {\r\n    // categoryView,\r\n  }\r\n})\r\nexport default class AddGoods extends Vue {\r\n    @Watch(\"filterText\")\r\n  watchCount(newVal, oldVal) {\r\n    console.log(\"newVal\", newVal, \"oldVal\", oldVal);\r\n    let a: any = this.$refs.tree2;\r\n    a.filter(newVal);\r\n  }\r\n   filterNode(value, data) {\r\n        if (!value) return true;\r\n        return data.name.indexOf(value) !== -1;\r\n      }\r\nfilterText=\"\"\r\n  loading=false\r\n  handleDelete(index, row) {\r\n\r\nif(row.userNum>0){\r\n  this.$alert('不可删除有用户的职位');\r\n  return\r\n}\r\n\r\n\r\n    this.$confirm(\"此操作将删除该职位, 是否继续?\", \"提示\", {\r\n      confirmButtonText: \"确定\",\r\n      cancelButtonText: \"取消\",\r\n      type: \"warning\"\r\n    })\r\n      .then(() => {\r\n        console.log(row);\r\n\r\n        indexApi\r\n          .deleteRoleModel({\r\n            roleId: row.roleId\r\n          })\r\n          .then(res => {\r\n            if (res[\"retCode\"]) {\r\n              this.$message(\"删除成功\");\r\n              this.getRoleList();\r\n            } else {\r\n              if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n              console.error(\"数据查询错误\");\r\n            }\r\n          });\r\n        // role_id\r\n      })\r\n      .catch(() => {\r\n        this.$message({\r\n          type: \"info\",\r\n          message: \"已取消删除\"\r\n        });\r\n      });\r\n  }\r\n\r\n  roleForm = {};\r\ncheckboxGroup6 = []\r\n  model = false;\r\n  modelType = \"add\";\r\n\r\n  handleCheckChange(data, checked, indeterminate) {\r\n        console.log(data, checked, indeterminate);\r\n      }\r\n  changeModel(type, row) {\r\n\r\n\r\n  \r\n    this.modelType = type;\r\n    this.roleForm = {};\r\n    if (row) {\r\n      let a = {};\r\n      Object.assign(a, row);\r\n      this.roleForm = a;\r\n      this.roleForm[\"role\"] = this.roleForm[\"roleName\"];\r\n      this.roleForm[\"description\"] = this.roleForm[\"roleDescription\"];\r\n      this.roleForm[\"role_id\"] = this.roleForm[\"roleId\"];\r\n    }\r\n\r\nthis.model =true\r\n  }\r\n\r\n  \r\n  primssRow = {}\r\n  showRolePrimss(row){\r\n\r\nthis.primssLoading=true\r\n\r\n    let a = {}\r\n    Object.assign(a,row)\r\n    this.primssRow = a\r\n     this.checkboxGroup6 = []\r\n    this.roleGetPrimss(row);\r\n    this.primssModel = true;\r\n  }\r\n  primssLoading = false\r\nprimssModel = false\r\n  roleGetPrimss(row){\r\nindexApi.roleGetPrimss(\r\n {roleId: row.roleId}\r\n).then(res => {\r\n        if (res[\"retCode\"]) {\r\n          if(res.data.rolepermission.length>0){\r\n            this.checkboxGroup6 = res.data.permissionIdList\r\n          }\r\n        } else {\r\n          if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n          console.error(\"数据查询错误\");\r\n        }\r\n        this.primssLoading=false\r\n      });\r\n\r\n  }\r\n\r\nroleBindPrimss(){\r\nthis.primssLoading = true\r\nindexApi.roleBindPrimss(\r\n {roleId: this.primssRow['roleId'],\r\n permissionIdList:this.checkboxGroup6.join(',')\r\n }\r\n).then(res => {\r\nthis.primssLoading = false\r\n  \r\n  console.log('更新权限',res)\r\n        if (res[\"retCode\"]) {\r\nthis.$message('保存成功');\r\nthis.primssModel = false  \r\n\r\n} else {\r\n          if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n}\r\n\r\n  doSubmit() {\r\n  if((this.roleForm['role']||'')==''){\r\nthis.$alert('请输入职位名称')\r\nreturn\r\n  }\r\n  if((this.roleForm['description']||'')==''){\r\nthis.$alert('请输入职位描述')\r\n    return\r\n  }\r\n\r\n\r\n\r\n\r\n    if (this.modelType == \"add\") {\r\n      indexApi.addRoleModel(this.roleForm).then(res => {\r\n        if (res[\"retCode\"]) {\r\n          this.$message(\"添加成功\");\r\n          this.getRoleList();\r\n              // 更新权限问题\r\n              this.roleForm['roleId'] =  res.data.roleId\r\n\r\n          this.model = false;\r\n        } else {\r\n          if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n    } else {\r\n      indexApi.updateRoleModel(this.roleForm).then(res => {\r\n        if (res[\"retCode\"]) {\r\n          this.$message(\"保存成功\");\r\n          this.getRoleList();\r\n              // 更新权限问题\r\n\r\n          this.model = false;\r\n        } else {\r\n          if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n    \r\n    }\r\n\r\n  \r\n\r\n  }\r\n defaultProps=  {\r\n        children: \"children\",\r\n        label: \"name\"\r\n      }\r\n  roleList = [];\r\n  keyword = \"\";\r\n\r\n  options = [];\r\n  departmentId = \"\";\r\n\r\n  page = 0;\r\n  pageSize = 10;\r\n  total = 0;\r\n  onPageChange(page) {\r\n    this.page = page - 1;\r\n    this.getRoleList();\r\n  }\r\n\r\n\r\n\r\n  getRoleList(filter=null) {\r\n    if(filter){\r\n      this.page = 0\r\n    }\r\n    let departmentId = \"\";\r\n    if (this.departmentId.length > 0) {\r\n      departmentId = this.departmentId[this.departmentId.length - 1];\r\n    }\r\n    indexApi\r\n      .queryRoleList({\r\n        keyword: this.keyword,\r\n        departmentId: departmentId,\r\n        page: this.page,\r\n        pageSize: this.pageSize\r\n      })\r\n      .then(res => {\r\n        this.loading= false\r\n        if (res[\"retCode\"]) {\r\n          this.roleList = res.data.roleList;\r\n          this.total = res.data.page.total\r\n        } else {\r\n          if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n          console.error(\"数据查询错误\");\r\n        }\r\n      });\r\n  }\r\n  getDepartment() {\r\n    indexApi.getDepartment({}).then(res => {\r\n      console.log(res);\r\n      if (res[\"retCode\"]) {\r\n        this.options = res.data.children;\r\n\r\n        this.options.unshift({\r\n          departmentId: \"\",\r\n          label: \"全部\",\r\n          name: \"全部\",\r\n          value: \"\"\r\n        });\r\n        console.log(\"获取部门树\", res.data);\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n  allCount = 0;\r\n\r\n  alloCount() {\r\n    indexApi.allCountrole().then(res => {\r\n      console.log(res);\r\n      if (res[\"retCode\"]) {\r\n        this.allCount = res.data.num;\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n  AuthorityList = []\r\n  getPermission() {\r\n    indexApi.getPermission({}).then(res => {\r\n      if (res[\"retCode\"]) {\r\n        this.AuthorityList = res.data.AuthorityList;\r\n      } else {\r\n        if(!res['islogin']){this.$alert(res[\"message\"]);}\r\n        console.error(\"数据查询错误\");\r\n      }\r\n    });\r\n  }\r\n\r\n  mounted() {\r\n    this.loading = true\r\n    this.alloCount();\r\n    this.getRoleList();\r\n    this.getDepartment();\r\n\r\n    this.getPermission();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/system/role.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('div',{staticStyle:{\"border-bottom\":\"1px #e5e5e5 solid\"}},[_c('h3',[_vm._v(\"职位管理\\n          \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_vm._v(\"\\n平台职位数量统计：\"+_vm._s(_vm.allCount)+\"             \\n            \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"padding-bottom\":\"20px\"}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"xs\":8,\"sm\":8,\"md\":5,\"lg\":5,\"xl\":4}},[_c('el-cascader',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"change-on-select\":\"\",\"options\":_vm.options},model:{value:(_vm.departmentId),callback:function ($$v) {_vm.departmentId=$$v},expression:\"departmentId\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":8,\"sm\":8,\"md\":5,\"lg\":5,\"xl\":5}},[_c('el-input',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"placeholder\":\"请输入职位名称\",\"clearable\":\"\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"min-width\":\"100px\"},attrs:{\"xs\":5,\"sm\":5,\"md\":2,\"lg\":2,\"xl\":2}},[_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){_vm.getRoleList(true)}}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":5,\"sm\":5,\"md\":2,\"lg\":2,\"xl\":2}},[_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.changeModel('add')}}},[_vm._v(\"添加职位\")])],1)],1)],1)]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\",\"min-height\":\"500px\"},attrs:{\"border\":\"\",\"data\":_vm.roleList,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"fixed\":\"left\",\"prop\":\"roleName\",\"label\":\"职位名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userNum\",\"label\":\"用户数量\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"职位状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.roleAvailable ?'success':'info'}},[_vm._v(\"\\n               \"+_vm._s(scope.row.roleAvailable ?\"启用中\":\"已停用\"))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleDescription\",\"label\":\"职位描述\",\"width\":\"500\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.showRolePrimss(scope.row)}}},[_vm._v(\"角色权限\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.changeModel('edit',scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"current-page\":_vm.page+1,\"page-size\":_vm.pageSize,\"total\":_vm.total},on:{\"current-change\":_vm.onPageChange}})],1),_vm._v(\" \"),_c('el-dialog',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.primssLoading),expression:\"primssLoading\"}],attrs:{\"visible\":_vm.primssModel,\"width\":\"1050px\",\"center\":\"\",\"size\":\"tiny\",\"title\":\"角色权限\",\"close-on-click-modal\":false,\"top\":\"40px\"},on:{\"update:visible\":function($event){_vm.primssModel=$event}}},[_c('div',{staticStyle:{\"min-height\":\"500px\"}},[_c('el-input',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"placeholder\":\"输入关键字进行过滤\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}}),_vm._v(\" \"),_c('el-checkbox-group',{model:{value:(_vm.checkboxGroup6),callback:function ($$v) {_vm.checkboxGroup6=$$v},expression:\"checkboxGroup6\"}},[_c('el-tree',{ref:\"tree2\",attrs:{\"props\":_vm.defaultProps,\"data\":_vm.AuthorityList,\"node-key\":\"permissionId\",\"default-expand-all\":\"\",\"expand-on-click-node\":false,\"filter-node-method\":_vm.filterNode},on:{\"check-change\":_vm.handleCheckChange},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"可见菜单:\"+_vm._s(data.name))]),_vm._v(\" \"),_c('span',{staticStyle:{\"position\":\"absolute\",\"right\":\"0\"}},[_c('el-checkbox',{key:1,attrs:{\"label\":data.permissionId}},[_vm._v(\"启用\")])],1)])}}])})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.primssModel = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.roleBindPrimss}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.model,\"width\":\"1050px\",\"center\":\"\",\"size\":\"tiny\",\"title\":_vm.modelType =='add' ?'添加职位':'编辑职位',\"close-on-click-modal\":false,\"top\":\"40px\"},on:{\"update:visible\":function($event){_vm.model=$event}}},[_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"职位名称\"}},[_c('el-input',{staticStyle:{\"max-width\":\"400px\"},model:{value:(_vm.roleForm.role),callback:function ($$v) {_vm.$set(_vm.roleForm, \"role\", $$v)},expression:\"roleForm.role\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"职位描述\"}},[_c('el-input',{staticStyle:{\"max-width\":\"400px\"},model:{value:(_vm.roleForm.description),callback:function ($$v) {_vm.$set(_vm.roleForm, \"description\", $$v)},expression:\"roleForm.description\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.model = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doSubmit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2afa9646\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/system/role.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2afa9646\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./role.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role.vue\"\nimport __vue_script__ from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2afa9646\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./role.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2afa9646\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/system/role.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}